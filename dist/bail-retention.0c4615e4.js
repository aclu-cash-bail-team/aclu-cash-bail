!function(){const e="view all",t="view less",s='<svg class="caret" width="8" height="5" viewBox="0 0 8 5" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M7 0.999999L4 4L1 1" stroke="white" stroke-miterlimit="10"/>\n</svg>';class a{constructor(e){this.className=e}render(){this.element=document.createElement("td"),this.setElementClass(this.className)}getClassName(){return this.className}setElementClass(e){this.element.className=e}addElementClass(e){this.element.classList.add(e)}}class l extends a{constructor(e,t){super(t),this.content=e,this.render()}render(){super.render(),this.element.appendChild(document.createTextNode(this.content))}}class r extends a{constructor(e,t){super(`${t} ${e.className}`),this.content=e.value.replace("-","+"),this.render()}render(){super.render(),this.element.appendChild(document.createTextNode(this.content))}}class n extends a{constructor(e,t,s){super(t);const a="percent"===s.unit;this.content=a?e.toFixed(1):e.toLocaleString(),this.render()}render(){super.render(),this.element.appendChild(document.createTextNode(this.content))}}class i extends a{constructor(e,t,s){super(t),this.content=e.values[0],this.average=s.averages[0].value,this.range=s,this.render()}render(){super.render();const e=document.createElement("div");e.className="viz-bar",e.style.width=this.content/this.range.end*100+"%";const t=document.createElement("div"),s=this.content-this.average;s>0&&(t.textContent=`+${s.toFixed(1)}`),s<0&&(t.textContent=`${s.toFixed(1)}`),t.className="bar-label",e.appendChild(t),this.element.appendChild(e);const a=document.createElement("div");a.className="bar-average-line green",a.style.left=this.average/this.range.end*100+"%",this.element.appendChild(a)}}class o extends a{constructor(e,t){super(t),this.values=e.values.filter((e=>0!==e.value)),this.tooltipName=e.name,this.render()}createDistributionTable(){const e=document.createElement("div");return e.className="tooltip-table",this.values.forEach((t=>{const s=document.createElement("div");s.className="tooltip-row";const a=document.createElement("div");a.className="tooltip-cell",a.style.marginRight="10px";const l=document.createElement("div");l.className=t.className,l.classList.add("color-box"),a.appendChild(l);const r=document.createElement("div");r.className="tooltip-cell",r.style.flexGrow=2;const n=document.createElement("div");n.className="tooltip-cell",r.innerText=t.name,n.style.textAlign="right",n.innerText=Math.round(100*t.value)/100+"%",s.appendChild(a),s.appendChild(r),s.appendChild(n),e.appendChild(s)})),e}createTooltip(){const e=document.createElement("div");e.className="dist-tooltip";const t=document.createElement("h3");t.className="dist-tooltip-name",t.innerText=this.tooltipName;const s=this.createDistributionTable();return e.appendChild(t),e.appendChild(s),e}render(){super.render();const e=document.createElement("div");e.className="dist-bar-container",this.values.forEach((t=>{const s=document.createElement("div");s.className=`viz-bar ${t.className}`,e.appendChild(s)}));const t=this.values.length,[s,a]=[2,"px"],l=Math.round((t-1)*s/t),r=this.values.map((e=>`calc(${e.value}% - ${l}${a})`));e.style.columnGap=`${s}${a}`,e.style.gridTemplateColumns=r.join(" ");const n=this.createTooltip();e.appendChild(n),this.element.appendChild(e)}}class d extends a{constructor(e,t,s){super(t),this.content=e.values,this.averages=s.averages,this.range=s,this.vizColors=["green","purple"],this.render()}render(){super.render();const e=document.createElement("div");e.className="viz-number-line",this.element.appendChild(e),this.content.forEach(((e,t)=>{const s=document.createElement("div");s.className=`viz-number-line-point ${this.vizColors[t]}`,s.style.left=(e-this.range.start)/this.range.end*100+"%",this.element.appendChild(s)})),this.averages.forEach(((e,t)=>{const s=document.createElement("div");s.className=`bar-average-line ${this.vizColors[t]}`,s.style.left=(e.value-this.range.start)/this.range.end*100+"%",this.element.appendChild(s)}))}}class h extends a{constructor(e,t,s,a,l,r,n){super(t),this.content=e,this.sortCol=s,this.sortDir=a,this.initSort=l,this.table=r,this.id=n,this.render(),this.sortCol&&this.element.addEventListener("click",(()=>{this.table.sortCol!==this.id&&(this.sortDir=-1);const e=this.getClassName();this.table.setSortColumn(this.id),this.table.setSortDirection(this.sortDir),this.table.sort(!1),this.setElementClass(e,!0),this.sortDir*=-1})),this.initSort&&(this.sortDir*=-1)}render(){const e=document.createElement("th");if(e.className=this.className,this.element=e,this.sortCol){const t=this.getClassName();this.setElementClass(t,this.initSort);const a=document.createElement("div");a.className="th-wrapper",a.innerHTML=s;const l=document.createElement("div");l.appendChild(document.createTextNode(this.content)),a.appendChild(l),e.appendChild(a)}else e.appendChild(document.createTextNode(this.content))}getClassName(){const e=this.sortDir>0?"sort-asc":this.sortDir<0?"sort-desc":"";return`${this.className} ${e}`}setElementClass(e,t){const s=t?"sorted":"";super.setElementClass(`${e} ${s}`)}}class c extends h{constructor(e,t,s,a,l,r,n){super(e,t,s,a,l,r,n)}render(){const e=this.content.start,t=this.content.end,s=this.content.unit,a=document.createElement("th");a.className=this.className;const l="dollars"===s?`$${Math.round(e/1e3)}K`:e,r="dollars"===s?`$${Math.round(t/1e3)}K`:t;[this.createTickElement(l,"start-num"),this.createTickElement(r,"end-num")].forEach((e=>{a.appendChild(e)})),this.element=a}createTickElement(e,t,s){const a=document.createElement("div");a.className=t;const l=document.createElement("div");l.innerHTML=e,t.includes("average")&&(l.className="average-text"),a.appendChild(l),"start-num"===t&&1===e.toString().length?a.style.paddingLeft="10px":"end-num"===t&&e.toString().length<=3&&(a.style.paddingRight=8-e.toString().length+"px"),"end-num"===t&&2===e.toString().length&&(a.style.paddingRight="1px");const r=document.createElement("div");return r.className=""+(t.includes("average")?"average-line":"viz-line"),s&&(r.className+=` ${s}`),a.appendChild(r),a}}class m{constructor(e){this.cells=e,this.render()}render(){const e=document.createElement("tr");this.cells.forEach((t=>{e.appendChild(t.element)})),this.element=e}clearedSortedCells(){this.cells.forEach((e=>{const t=e.getClassName();e.setElementClass(t,!1)}))}}class u{constructor(e,t,s,a=!1){this.cells=e,this.outlier=t,this.isHidden=s,this.isBold=a}setIsHidden(e){this.isHidden=e}render(e){const t=document.createElement("tr");return this.element=t,this.isHidden?[]:(t.className="",this.cells.forEach(((s,a)=>{s.setElementClass(s.className),a===e&&s.addElementClass("sorted"),this.isBold&&s.addElementClass("bold-cell"),t.appendChild(s.element)})),[this.element])}}class p extends u{constructor(e,t,s,a,l){super(e,t,a),this.isCollapsed=l,this.collapseRows=s}render(e){const t=super.render(e);if(this.element.className="collapsible "+(this.isCollapsed?"collapsed":"expanded"),t.length>0){const e=t[0].firstChild;e.innerHTML=s,this.isCollapsed?e.classList.add("caret-rotated"):e.classList.remove("caret-rotated")}const a=this.collapseRows.flatMap((t=>t.render(e)));return[...t,...a]}}class g{constructor(e,t,s,a,l=[],r=!0){this.classNames=t.map((e=>e.class)),this.headers=t.map((e=>e.header)),this.data=e,this.container=a,this.element=a.getElementsByTagName("table")[0],this.showOutliers=!1,this.summaryRowData=l,this.validate(),this.searchCols=t.map((e=>e.searchable)),this.searchTerms=[],this.isTruncated=!0,this.sortCols=t.map((e=>e.sortable)),this.sortCol=s,this.sortDir=-1,this.isVisible=r,this.header=this.getHeaderRow(),this.init(),this.sort(!0)}validate(){if(this.classNames.length!==this.headers.length)throw new Error("Number of class names does not match number of headers");if(this.data.some((e=>e.data.length!=this.headers.length)))throw new Error(`${this.headers.length} columns of data required`)}init(){this.element.getElementsByTagName("thead")[0].appendChild(this.header.element);const s=this.container.getElementsByClassName("menu")[0];let a=this.data.flatMap((e=>{const t=e.data.flatMap(((e,t)=>this.searchCols[t]?[e]:[])),s=e.collapseData?e.collapseData.map((e=>e.data[1])):[];return t.concat(s)}));a.sort(),s.textContent="",a.forEach((e=>{const t=document.createElement("div");t.className="item",t.innerText=e,s.appendChild(t)}));this.container.getElementsByTagName("input")[0].addEventListener("change",(e=>{const t=e.target.value;this.searchTerms=t.split(";").filter((e=>""!==e)),this.rows=this.getRows(),this.render()}));const l=this.container.getElementsByClassName("view-all-btn")[0];l.innerText=this.isTruncated?e:t,l.addEventListener("click",(()=>{this.isTruncated=!this.isTruncated,l.innerText=this.isTruncated?e:t,this.rows=this.getRows(),this.render()}));const r=this.container.getElementsByClassName("outliers-btn");if(r.length>0){r[0].addEventListener("click",(e=>{this.toggleOutliers()?e.target.classList.add("showing"):e.target.classList.remove("showing")}))}}getHeaderRow(){const e=this.headers.map(((e,t)=>{const s="text"in e?h:c;return new s(s===h?e.text:e,this.classNames[t],this.sortCols[t],this.sortCols[t]?-1:0,t===this.sortCol,this,t)}));return new m(e)}getCells(e,t){return e.map(((e,s)=>{let a=l;return"number"==typeof e?a=n:"object"==typeof e&&("bar"===e.type?a=i:"line"===e.type?a=d:"styled"===e.type?a=r:"dist"===e.type&&(a=o)),"string"==typeof e&&e.length>0&&s<=1&&t&&(e+="*"),new a(e,this.classNames[s],this.headers[s])}))}getRows(){let e=0;const t=this.data.map((t=>{const s=this.getCells(t.data,t.outlier),a=this.searchTerms.some((e=>t.data.some(((t,s)=>this.searchCols[s]&&t.toLowerCase()===e.toLowerCase())))),l=this.isTruncated&&e>=10,r=t.outlier&&!this.showOutliers,n=a||!l&&!r&&0===this.searchTerms.length;if(void 0!==t.collapseData){const a=t.collapseData.map((e=>{const s=this.searchTerms.some((t=>e.data[1].toLowerCase()===t.toLowerCase())),a=e.outlier&&!this.showOutliers,l=s||!t.isCollapsed&&!a;return new u(this.getCells(e.data,e.outlier),e.outlier,!l)})),l=a.some((e=>!e.isHidden)),r=n||l;return r&&(e+=a.reduce(((e,t)=>t.isHidden?e:e+1),1)),new p(s,t.outlier,a,!r,!l&&t.isCollapsed)}return n&&e++,new u(s,t.outlier,!n)}));if(this.summaryRowData.length>0){const e=this.getCells(this.summaryRowData);t.unshift(new u(e,!1,!1,!0))}return t}setSortColumn(e){this.sortCol=e}setSortDirection(e){this.sortDir=e}getSortable(e){if("object"==typeof e||/\d/.test(e)){const t="object"==typeof e?e.value:e;return Number(t.replace?t.replace(/[^\d.-]/g,""):t)}return e}sort(e){e||this.header.clearedSortedCells(),this.data.sort(((e,t)=>{const s=e.data[this.sortCol],a=t.data[this.sortCol],l=this.getSortable(s),r=this.getSortable(a);return l<r?-1*this.sortDir:l>r?this.sortDir:0})),this.rows=this.getRows(),this.render()}toggleOutliers(){return this.showOutliers=!this.showOutliers,this.rows=this.getRows(),this.render(),this.showOutliers}hide(){this.isVisible=!1,this.render()}show(){this.isVisible=!0,this.render()}render(){if(this.isVisible){this.container.classList.remove("hidden");const e=this.element.getElementsByTagName("tbody")[0];e.textContent="",this.rows.forEach(((t,s)=>{t.render(this.sortCol).forEach((t=>e.appendChild(t))),t instanceof p&&t.element.addEventListener("click",(()=>{this.data[s].isCollapsed=!t.isCollapsed,this.rows=this.getRows(),this.render()}))}))}else this.container.classList.add("hidden")}}const C=[{data:["Adams","Placeholder....!!!!!"]},{data:["Allegheny","Placeholder....!!!!!"]},{data:["Armstrong","Placeholder....!!!!!"]},{data:["Beaver","Placeholder....!!!!!"]},{data:["Bedford","Placeholder....!!!!!"]},{data:["Berks","Placeholder....!!!!!"]},{data:["Blair","Placeholder....!!!!!"]},{data:["Bradford","Placeholder....!!!!!"]},{data:["Bucks","Placeholder....!!!!!"]},{data:["Butler","Placeholder....!!!!!"]},{data:["Cambria","Placeholder....!!!!!"]},{data:["Cameron","Placeholder....!!!!!"]},{data:["Carbon","Placeholder....!!!!!"]},{data:["Centre","Placeholder....!!!!!"]},{data:["Chester","Placeholder....!!!!!"]},{data:["Clarion","Placeholder....!!!!!"]},{data:["Clearfield","Placeholder....!!!!!"]},{data:["Clinton","Placeholder....!!!!!"]},{data:["Columbia","Placeholder....!!!!!"]},{data:["Crawford","Placeholder....!!!!!"]},{data:["Cumberland","Placeholder....!!!!!"]},{data:["Dauphin","Placeholder....!!!!!"]},{data:["Delaware","Placeholder....!!!!!"]},{data:["Elk","Placeholder....!!!!!"]},{data:["Erie","Placeholder....!!!!!"]},{data:["Fayette","Placeholder....!!!!!"]},{data:["Forest","Placeholder....!!!!!"]},{data:["Franklin","Placeholder....!!!!!"]},{data:["Fulton","Placeholder....!!!!!"]},{data:["Greene","Placeholder....!!!!!"]},{data:["Huntingdon","Placeholder....!!!!!"]},{data:["Indiana","Placeholder....!!!!!"]},{data:["Jefferson","Placeholder....!!!!!"]},{data:["Juniata","Placeholder....!!!!!"]},{data:["Lackawanna","Placeholder....!!!!!"]},{data:["Lancaster","Placeholder....!!!!!"]},{data:["Lawrence","Placeholder....!!!!!"]},{data:["Lebanon","Placeholder....!!!!!"]},{data:["Lehigh","Placeholder....!!!!!"]},{data:["Luzerne","Placeholder....!!!!!"]},{data:["Lycoming","Placeholder....!!!!!"]},{data:["McKean","Placeholder....!!!!!"]},{data:["Mercer","Placeholder....!!!!!"]},{data:["Mifflin","Placeholder....!!!!!"]},{data:["Monroe","Placeholder....!!!!!"]},{data:["Montgomery","Placeholder....!!!!!"]},{data:["Montour","Placeholder....!!!!!"]},{data:["Northampton","Placeholder....!!!!!"]},{data:["Northumberland","Placeholder....!!!!!"]},{data:["Perry","Placeholder....!!!!!"]},{data:["Philadelphia","Placeholder....!!!!!"]},{data:["Pike","Placeholder....!!!!!"]},{data:["Potter","Placeholder....!!!!!"]},{data:["Schuylkill","Placeholder....!!!!!"]},{data:["Snyder","Placeholder....!!!!!"]},{data:["Somerset","Placeholder....!!!!!"]},{data:["Sullivan","Placeholder....!!!!!"]},{data:["Susquehanna","Placeholder....!!!!!"]},{data:["Tioga","Placeholder....!!!!!"]},{data:["Union","Placeholder....!!!!!"]},{data:["Venango","Placeholder....!!!!!"]},{data:["Warren","Placeholder....!!!!!"]},{data:["Washington","Placeholder....!!!!!"]},{data:["Wayne","Placeholder....!!!!!"]},{data:["Westmoreland","Placeholder....!!!!!"]},{data:["Wyoming","Placeholder....!!!!!"]},{data:["York","Placeholder....!!!!!"]}];(()=>{const e=document.getElementById("bail-retention-fee-container");new g(C,[{class:"county-name-cell",header:{text:"County",unit:""},sortable:!0,searchable:!0},{class:"retention-fee-cell",header:{text:"Retention Fee",unit:"dollars"},sortable:!1,searchable:!1}],0,e)})()}();
//# sourceMappingURL=bail-retention.0c4615e4.js.map
