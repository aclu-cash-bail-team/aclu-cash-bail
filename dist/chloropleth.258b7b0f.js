!function(){var t=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},e=function(e){let n=e,r=e;function a(t,e,n,a){for(null==n&&(n=0),null==a&&(a=t.length);n<a;){const i=n+a>>>1;r(t[i],e)<0?n=i+1:a=i}return n}return 1===e.length&&(n=(t,n)=>e(t)-n,r=function(e){return(n,r)=>t(e(n),r)}(e)),{left:a,center:function(t,e,r,i){null==r&&(r=0),null==i&&(i=t.length);const o=a(t,e,r,i-1);return o>r&&n(t[o-1],e)>-n(t[o],e)?o-1:o},right:function(t,e,n,a){for(null==n&&(n=0),null==a&&(a=t.length);n<a;){const i=n+a>>>1;r(t[i],e)>0?a=i:n=i+1}return n}}};const n=e(t),r=n.right;n.left,e((function(t){return null===t?NaN:+t})).center;class a{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const e=this._partials;let n=0;for(let r=0;r<this._n&&r<32;r++){const a=e[r],i=t+a,o=Math.abs(t)<Math.abs(a)?t-(i-a):a-(i-t);o&&(e[n++]=o),t=i}return e[n]=t,this._n=n+1,this}valueOf(){const t=this._partials;let e,n,r,a=this._n,i=0;if(a>0){for(i=t[--a];a>0&&(e=i,n=t[--a],i=e+n,r=n-(i-e),!r););a>0&&(r<0&&t[a-1]<0||r>0&&t[a-1]>0)&&(n=2*r,e=i+n,n==e-i&&(i=e))}return i}}function i(t){return Array.from(function*(t){for(const e of t)yield*e}(t))}var o=Math.sqrt(50),l=Math.sqrt(10),s=Math.sqrt(2);function u(t,e,n){var r=(e-t)/Math.max(0,n),a=Math.floor(Math.log(r)/Math.LN10),i=r/Math.pow(10,a);return a>=0?(i>=o?10:i>=l?5:i>=s?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(i>=o?10:i>=l?5:i>=s?2:1)}var c={value:()=>{}};function p(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new h(r)}function h(t){this._=t}function f(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function d(t,e){for(var n,r=0,a=t.length;r<a;++r)if((n=t[r]).name===e)return n.value}function y(t,e,n){for(var r=0,a=t.length;r<a;++r)if(t[r].name===e){t[r]=c,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}h.prototype=p.prototype={constructor:h,on:function(t,e){var n,r=this._,a=f(t+"",r),i=-1,o=a.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++i<o;)if(n=(t=a[i]).type)r[n]=y(r[n],t.name,e);else if(null==e)for(n in r)r[n]=y(r[n],t.name,null);return this}for(;++i<o;)if((n=(t=a[i]).type)&&(n=d(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new h(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,a=new Array(n),i=0;i<n;++i)a[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=0,n=(r=this._[t]).length;i<n;++i)r[i].value.apply(e,a)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],a=0,i=r.length;a<i;++a)r[a].value.apply(e,n)}};var v=function(t){return function(){return this.matches(t)}};function g(t){return function(e){return e.matches(t)}}var A="http://www.w3.org/1999/xhtml",m={svg:"http://www.w3.org/2000/svg",xhtml:A,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},N=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),m.hasOwnProperty(e)?{space:m[e],local:t}:t};function E(){}var b=function(t){return null==t?E:function(){return this.querySelector(t)}},S=function(t){return"object"==typeof t&&"length"in t?t:Array.from(t)};function w(){return[]}var T=function(t){return null==t?w:function(){return this.querySelectorAll(t)}};var _=Array.prototype.find;function M(){return this.firstElementChild}var O=Array.prototype.filter;function F(){return this.children}var D=function(t){return new Array(t.length)};function C(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}C.prototype={constructor:C,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var P=function(t){return function(){return t}};function x(t,e,n,r,a,i){for(var o,l=0,s=e.length,u=i.length;l<u;++l)(o=e[l])?(o.__data__=i[l],r[l]=o):n[l]=new C(t,i[l]);for(;l<s;++l)(o=e[l])&&(a[l]=o)}function U(t,e,n,r,a,i,o){var l,s,u,c=new Map,p=e.length,h=i.length,f=new Array(p);for(l=0;l<p;++l)(s=e[l])&&(f[l]=u=o.call(s,s.__data__,l,e)+"",c.has(u)?a[l]=s:c.set(u,s));for(l=0;l<h;++l)u=o.call(t,i[l],l,i)+"",(s=c.get(u))?(r[l]=s,s.__data__=i[l],c.delete(u)):n[l]=new C(t,i[l]);for(l=0;l<p;++l)(s=e[l])&&c.get(f[l])===s&&(a[l]=s)}function L(t){return t.__data__}function k(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Y(t){return function(){this.removeAttribute(t)}}function I(t){return function(){this.removeAttributeNS(t.space,t.local)}}function G(t,e){return function(){this.setAttribute(t,e)}}function $(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function W(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function R(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}var B=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function K(t){return function(){this.style.removeProperty(t)}}function H(t,e,n){return function(){this.style.setProperty(t,e,n)}}function X(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function j(t,e){return t.style.getPropertyValue(e)||B(t).getComputedStyle(t,null).getPropertyValue(e)}function q(t){return function(){delete this[t]}}function z(t,e){return function(){this[t]=e}}function V(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function J(t){return t.trim().split(/^|\s+/)}function Q(t){return t.classList||new Z(t)}function Z(t){this._node=t,this._names=J(t.getAttribute("class")||"")}function tt(t,e){for(var n=Q(t),r=-1,a=e.length;++r<a;)n.add(e[r])}function et(t,e){for(var n=Q(t),r=-1,a=e.length;++r<a;)n.remove(e[r])}function nt(t){return function(){tt(this,t)}}function rt(t){return function(){et(this,t)}}function at(t,e){return function(){(e.apply(this,arguments)?tt:et)(this,t)}}Z.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function it(){this.textContent=""}function ot(t){return function(){this.textContent=t}}function lt(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function st(){this.innerHTML=""}function ut(t){return function(){this.innerHTML=t}}function ct(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function pt(){this.nextSibling&&this.parentNode.appendChild(this)}function ht(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ft(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===A&&e.documentElement.namespaceURI===A?e.createElement(t):e.createElementNS(n,t)}}function dt(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var yt=function(t){var e=N(t);return(e.local?dt:ft)(e)};function vt(){return null}function gt(){var t=this.parentNode;t&&t.removeChild(this)}function At(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function mt(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Nt(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function Et(t){return function(){var e=this.__on;if(e){for(var n,r=0,a=-1,i=e.length;r<i;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++a]=n:this.removeEventListener(n.type,n.listener,n.options);++a?e.length=a:delete this.__on}}}function bt(t,e,n){return function(){var r,a=this.__on,i=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(a)for(var o=0,l=a.length;o<l;++o)if((r=a[o]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=i,r.options=n),void(r.value=e);this.addEventListener(t.type,i,n),r={type:t.type,name:t.name,value:e,listener:i,options:n},a?a.push(r):this.__on=[r]}}function St(t,e,n){var r=B(t),a=r.CustomEvent;"function"==typeof a?a=new a(e,n):(a=r.document.createEvent("Event"),n?(a.initEvent(e,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(e,!1,!1)),t.dispatchEvent(a)}function wt(t,e){return function(){return St(this,t,e)}}function Tt(t,e){return function(){return St(this,t,e.apply(this,arguments))}}var _t=[null];function Mt(t,e){this._groups=t,this._parents=e}function Ot(){return new Mt([[document.documentElement]],_t)}Mt.prototype=Ot.prototype={constructor:Mt,select:function(t){"function"!=typeof t&&(t=b(t));for(var e=this._groups,n=e.length,r=new Array(n),a=0;a<n;++a)for(var i,o,l=e[a],s=l.length,u=r[a]=new Array(s),c=0;c<s;++c)(i=l[c])&&(o=t.call(i,i.__data__,c,l))&&("__data__"in i&&(o.__data__=i.__data__),u[c]=o);return new Mt(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);return null==e?[]:S(e)}}(t):T(t);for(var e=this._groups,n=e.length,r=[],a=[],i=0;i<n;++i)for(var o,l=e[i],s=l.length,u=0;u<s;++u)(o=l[u])&&(r.push(t.call(o,o.__data__,u,l)),a.push(o));return new Mt(r,a)},selectChild:function(t){return this.select(null==t?M:function(t){return function(){return _.call(this.children,t)}}("function"==typeof t?t:g(t)))},selectChildren:function(t){return this.selectAll(null==t?F:function(t){return function(){return O.call(this.children,t)}}("function"==typeof t?t:g(t)))},filter:function(t){"function"!=typeof t&&(t=v(t));for(var e=this._groups,n=e.length,r=new Array(n),a=0;a<n;++a)for(var i,o=e[a],l=o.length,s=r[a]=[],u=0;u<l;++u)(i=o[u])&&t.call(i,i.__data__,u,o)&&s.push(i);return new Mt(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,L);var n=e?U:x,r=this._parents,a=this._groups;"function"!=typeof t&&(t=P(t));for(var i=a.length,o=new Array(i),l=new Array(i),s=new Array(i),u=0;u<i;++u){var c=r[u],p=a[u],h=p.length,f=S(t.call(c,c&&c.__data__,u,r)),d=f.length,y=l[u]=new Array(d),v=o[u]=new Array(d),g=s[u]=new Array(h);n(c,p,y,v,g,f,e);for(var A,m,N=0,E=0;N<d;++N)if(A=y[N]){for(N>=E&&(E=N+1);!(m=v[E])&&++E<d;);A._next=m||null}}return(o=new Mt(o,r))._enter=l,o._exit=s,o},enter:function(){return new Mt(this._enter||this._groups.map(D),this._parents)},exit:function(){return new Mt(this._exit||this._groups.map(D),this._parents)},join:function(t,e,n){var r=this.enter(),a=this,i=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(a=e(a)),null==n?i.remove():n(i),r&&a?r.merge(a).order():a},merge:function(t){if(!(t instanceof Mt))throw new Error("invalid merge");for(var e=this._groups,n=t._groups,r=e.length,a=n.length,i=Math.min(r,a),o=new Array(r),l=0;l<i;++l)for(var s,u=e[l],c=n[l],p=u.length,h=o[l]=new Array(p),f=0;f<p;++f)(s=u[f]||c[f])&&(h[f]=s);for(;l<r;++l)o[l]=e[l];return new Mt(o,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,a=t[e],i=a.length-1,o=a[i];--i>=0;)(r=a[i])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=k);for(var n=this._groups,r=n.length,a=new Array(r),i=0;i<r;++i){for(var o,l=n[i],s=l.length,u=a[i]=new Array(s),c=0;c<s;++c)(o=l[c])&&(u[c]=o);u.sort(e)}return new Mt(a,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],a=0,i=r.length;a<i;++a){var o=r[a];if(o)return o}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var a,i=e[n],o=0,l=i.length;o<l;++o)(a=i[o])&&t.call(a,a.__data__,o,i);return this},attr:function(t,e){var n=N(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?I:Y:"function"==typeof e?n.local?R:W:n.local?$:G)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?K:"function"==typeof e?X:H)(t,e,null==n?"":n)):j(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?q:"function"==typeof e?V:z)(t,e)):this.node()[t]},classed:function(t,e){var n=J(t+"");if(arguments.length<2){for(var r=Q(this.node()),a=-1,i=n.length;++a<i;)if(!r.contains(n[a]))return!1;return!0}return this.each(("function"==typeof e?at:e?nt:rt)(n,e))},text:function(t){return arguments.length?this.each(null==t?it:("function"==typeof t?lt:ot)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?st:("function"==typeof t?ct:ut)(t)):this.node().innerHTML},raise:function(){return this.each(pt)},lower:function(){return this.each(ht)},append:function(t){var e="function"==typeof t?t:yt(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:yt(t),r=null==e?vt:"function"==typeof e?e:b(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(gt)},clone:function(t){return this.select(t?mt:At)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,a,i=Nt(t+""),o=i.length;if(!(arguments.length<2)){for(l=e?bt:Et,r=0;r<o;++r)this.each(l(i[r],e,n));return this}var l=this.node().__on;if(l)for(var s,u=0,c=l.length;u<c;++u)for(r=0,s=l[u];r<o;++r)if((a=i[r]).type===s.type&&a.name===s.name)return s.value},dispatch:function(t,e){return this.each(("function"==typeof e?Tt:wt)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,a=t[e],i=0,o=a.length;i<o;++i)(r=a[i])&&(yield r)}};var Ft=function(t){return"string"==typeof t?new Mt([[document.querySelector(t)]],[document.documentElement]):new Mt([[t]],_t)};var Dt=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function Ct(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Pt(){}var xt=.7,Ut=1.4285714285714286,Lt="\\s*([+-]?\\d+)\\s*",kt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Yt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",It=/^#([0-9a-f]{3,8})$/,Gt=new RegExp("^rgb\\("+[Lt,Lt,Lt]+"\\)$"),$t=new RegExp("^rgb\\("+[Yt,Yt,Yt]+"\\)$"),Wt=new RegExp("^rgba\\("+[Lt,Lt,Lt,kt]+"\\)$"),Rt=new RegExp("^rgba\\("+[Yt,Yt,Yt,kt]+"\\)$"),Bt=new RegExp("^hsl\\("+[kt,Yt,Yt]+"\\)$"),Kt=new RegExp("^hsla\\("+[kt,Yt,Yt,kt]+"\\)$"),Ht={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Xt(){return this.rgb().formatHex()}function jt(){return this.rgb().formatRgb()}function qt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=It.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?zt(e):3===n?new Zt(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Vt(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Vt(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Gt.exec(t))?new Zt(e[1],e[2],e[3],1):(e=$t.exec(t))?new Zt(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Wt.exec(t))?Vt(e[1],e[2],e[3],e[4]):(e=Rt.exec(t))?Vt(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Bt.exec(t))?re(e[1],e[2]/100,e[3]/100,1):(e=Kt.exec(t))?re(e[1],e[2]/100,e[3]/100,e[4]):Ht.hasOwnProperty(t)?zt(Ht[t]):"transparent"===t?new Zt(NaN,NaN,NaN,0):null}function zt(t){return new Zt(t>>16&255,t>>8&255,255&t,1)}function Vt(t,e,n,r){return r<=0&&(t=e=n=NaN),new Zt(t,e,n,r)}function Jt(t){return t instanceof Pt||(t=qt(t)),t?new Zt((t=t.rgb()).r,t.g,t.b,t.opacity):new Zt}function Qt(t,e,n,r){return 1===arguments.length?Jt(t):new Zt(t,e,n,null==r?1:r)}function Zt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function te(){return"#"+ne(this.r)+ne(this.g)+ne(this.b)}function ee(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function ne(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function re(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ie(t,e,n,r)}function ae(t){if(t instanceof ie)return new ie(t.h,t.s,t.l,t.opacity);if(t instanceof Pt||(t=qt(t)),!t)return new ie;if(t instanceof ie)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,a=Math.min(e,n,r),i=Math.max(e,n,r),o=NaN,l=i-a,s=(i+a)/2;return l?(o=e===i?(n-r)/l+6*(n<r):n===i?(r-e)/l+2:(e-n)/l+4,l/=s<.5?i+a:2-i-a,o*=60):l=s>0&&s<1?0:o,new ie(o,l,s,t.opacity)}function ie(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function oe(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function le(t,e,n,r,a){var i=t*t,o=i*t;return((1-3*t+3*i-o)*e+(4-6*i+3*o)*n+(1+3*t+3*i-3*o)*r+o*a)/6}Dt(Pt,qt,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Xt,formatHex:Xt,formatHsl:function(){return ae(this).formatHsl()},formatRgb:jt,toString:jt}),Dt(Zt,Qt,Ct(Pt,{brighter:function(t){return t=null==t?Ut:Math.pow(Ut,t),new Zt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?xt:Math.pow(xt,t),new Zt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:te,formatHex:te,formatRgb:ee,toString:ee})),Dt(ie,(function(t,e,n,r){return 1===arguments.length?ae(t):new ie(t,e,n,null==r?1:r)}),Ct(Pt,{brighter:function(t){return t=null==t?Ut:Math.pow(Ut,t),new ie(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?xt:Math.pow(xt,t),new ie(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,a=2*n-r;return new Zt(oe(t>=240?t-240:t+120,a,r),oe(t,a,r),oe(t<120?t+240:t-120,a,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var se=t=>()=>t;function ue(t){return 1==(t=+t)?ce:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):se(isNaN(e)?n:e)}}function ce(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):se(isNaN(t)?e:t)}var pe=function t(e){var n=ue(e);function r(t,e){var r=n((t=Qt(t)).r,(e=Qt(e)).r),a=n(t.g,e.g),i=n(t.b,e.b),o=ce(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=a(e),t.b=i(e),t.opacity=o(e),t+""}}return r.gamma=t,r}(1);function he(t){return function(e){var n,r,a=e.length,i=new Array(a),o=new Array(a),l=new Array(a);for(n=0;n<a;++n)r=Qt(e[n]),i[n]=r.r||0,o[n]=r.g||0,l[n]=r.b||0;return i=t(i),o=t(o),l=t(l),r.opacity=1,function(t){return r.r=i(t),r.g=o(t),r.b=l(t),r+""}}}he((function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),a=t[r],i=t[r+1],o=r>0?t[r-1]:2*a-i,l=r<e-1?t[r+2]:2*i-a;return le((n-r/e)*e,o,a,i,l)}})),he((function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),a=t[(r+e-1)%e],i=t[r%e],o=t[(r+1)%e],l=t[(r+2)%e];return le((n-r/e)*e,a,i,o,l)}}));var fe=function(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,a=e.slice();return function(i){for(n=0;n<r;++n)a[n]=t[n]*(1-i)+e[n]*i;return a}};function de(t,e){var n,r=e?e.length:0,a=t?Math.min(r,t.length):0,i=new Array(a),o=new Array(r);for(n=0;n<a;++n)i[n]=be(t[n],e[n]);for(;n<r;++n)o[n]=e[n];return function(t){for(n=0;n<a;++n)o[n]=i[n](t);return o}}var ye=function(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}},ve=function(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}},ge=function(t,e){var n,r={},a={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=be(t[n],e[n]):a[n]=e[n];return function(t){for(n in r)a[n]=r[n](t);return a}},Ae=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,me=new RegExp(Ae.source,"g");var Ne,Ee=function(t,e){var n,r,a,i=Ae.lastIndex=me.lastIndex=0,o=-1,l=[],s=[];for(t+="",e+="";(n=Ae.exec(t))&&(r=me.exec(e));)(a=r.index)>i&&(a=e.slice(i,a),l[o]?l[o]+=a:l[++o]=a),(n=n[0])===(r=r[0])?l[o]?l[o]+=r:l[++o]=r:(l[++o]=null,s.push({i:o,x:ve(n,r)})),i=me.lastIndex;return i<e.length&&(a=e.slice(i),l[o]?l[o]+=a:l[++o]=a),l.length<2?s[0]?function(t){return function(e){return t(e)+""}}(s[0].x):function(t){return function(){return t}}(e):(e=s.length,function(t){for(var n,r=0;r<e;++r)l[(n=s[r]).i]=n.x(t);return l.join("")})},be=function(t,e){var n,r,a=typeof e;return null==e||"boolean"===a?se(e):("number"===a?ve:"string"===a?(n=qt(e))?(e=n,pe):Ee:e instanceof qt?pe:e instanceof Date?ye:(r=e,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(e)?de:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?ge:ve:fe))(t,e)},Se=function(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}},we=180/Math.PI,Te={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},_e=function(t,e,n,r,a,i){var o,l,s;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(s=t*n+e*r)&&(n-=t*s,r-=e*s),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,s/=l),t*r<e*n&&(t=-t,e=-e,s=-s,o=-o),{translateX:a,translateY:i,rotate:Math.atan2(e,t)*we,skewX:Math.atan(s)*we,scaleX:o,scaleY:l}};function Me(t,e,n,r){function a(t){return t.length?t.pop()+" ":""}return function(i,o){var l=[],s=[];return i=t(i),o=t(o),function(t,r,a,i,o,l){if(t!==a||r!==i){var s=o.push("translate(",null,e,null,n);l.push({i:s-4,x:ve(t,a)},{i:s-2,x:ve(r,i)})}else(a||i)&&o.push("translate("+a+e+i+n)}(i.translateX,i.translateY,o.translateX,o.translateY,l,s),function(t,e,n,i){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),i.push({i:n.push(a(n)+"rotate(",null,r)-2,x:ve(t,e)})):e&&n.push(a(n)+"rotate("+e+r)}(i.rotate,o.rotate,l,s),function(t,e,n,i){t!==e?i.push({i:n.push(a(n)+"skewX(",null,r)-2,x:ve(t,e)}):e&&n.push(a(n)+"skewX("+e+r)}(i.skewX,o.skewX,l,s),function(t,e,n,r,i,o){if(t!==n||e!==r){var l=i.push(a(i)+"scale(",null,",",null,")");o.push({i:l-4,x:ve(t,n)},{i:l-2,x:ve(e,r)})}else 1===n&&1===r||i.push(a(i)+"scale("+n+","+r+")")}(i.scaleX,i.scaleY,o.scaleX,o.scaleY,l,s),i=o=null,function(t){for(var e,n=-1,r=s.length;++n<r;)l[(e=s[n]).i]=e.x(t);return l.join("")}}}var Oe=Me((function(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Te:_e(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),Fe=Me((function(t){return null==t?Te:(Ne||(Ne=document.createElementNS("http://www.w3.org/2000/svg","g")),Ne.setAttribute("transform",t),(t=Ne.transform.baseVal.consolidate())?(t=t.matrix,_e(t.a,t.b,t.c,t.d,t.e,t.f)):Te)}),", ",")",")");function De(t){return((t=Math.exp(t))+1/t)/2}(function t(e,n,r){function a(t,a){var i,o,l=t[0],s=t[1],u=t[2],c=a[0],p=a[1],h=a[2],f=c-l,d=p-s,y=f*f+d*d;if(y<1e-12)o=Math.log(h/u)/e,i=function(t){return[l+t*f,s+t*d,u*Math.exp(e*t*o)]};else{var v=Math.sqrt(y),g=(h*h-u*u+r*y)/(2*u*n*v),A=(h*h-u*u-r*y)/(2*h*n*v),m=Math.log(Math.sqrt(g*g+1)-g),N=Math.log(Math.sqrt(A*A+1)-A);o=(N-m)/e,i=function(t){var r,a=t*o,i=De(m),c=u/(n*v)*(i*(r=e*a+m,((r=Math.exp(2*r))-1)/(r+1))-function(t){return((t=Math.exp(t))-1/t)/2}(m));return[l+c*f,s+c*d,u*i/De(e*a+m)]}}return i.duration=1e3*o*e/Math.SQRT2,i}return a.rho=function(e){var n=Math.max(.001,+e),r=n*n;return t(n,r,r*r)},a})(Math.SQRT2,2,4);var Ce,Pe,xe=0,Ue=0,Le=0,ke=0,Ye=0,Ie=0,Ge="object"==typeof performance&&performance.now?performance:Date,$e="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function We(){return Ye||($e(Re),Ye=Ge.now()+Ie)}function Re(){Ye=0}function Be(){this._call=this._time=this._next=null}function Ke(t,e,n){var r=new Be;return r.restart(t,e,n),r}function He(){Ye=(ke=Ge.now())+Ie,xe=Ue=0;try{!function(){We(),++xe;for(var t,e=Ce;e;)(t=Ye-e._time)>=0&&e._call.call(null,t),e=e._next;--xe}()}finally{xe=0,function(){var t,e,n=Ce,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Ce=e);Pe=t,je(r)}(),Ye=0}}function Xe(){var t=Ge.now(),e=t-ke;e>1e3&&(Ie-=e,ke=t)}function je(t){xe||(Ue&&(Ue=clearTimeout(Ue)),t-Ye>24?(t<1/0&&(Ue=setTimeout(He,t-Ge.now()-Ie)),Le&&(Le=clearInterval(Le))):(Le||(ke=Ge.now(),Le=setInterval(Xe,1e3)),xe=1,$e(He)))}Be.prototype=Ke.prototype={constructor:Be,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?We():+n)+(null==e?0:+e),this._next||Pe===this||(Pe?Pe._next=this:Ce=this,Pe=this),this._call=t,this._time=n,je()},stop:function(){this._call&&(this._call=null,this._time=1/0,je())}};var qe=function(t,e,n){var r=new Be;return e=null==e?0:+e,r.restart((n=>{r.stop(),t(n+e)}),e,n),r},ze=p("start","end","cancel","interrupt"),Ve=[],Je=function(t,e,n,r,a,i){var o=t.__transition;if(o){if(n in o)return}else t.__transition={};!function(t,e,n){var r,a=t.__transition;function i(t){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)}function o(i){var u,c,p,h;if(1!==n.state)return s();for(u in a)if((h=a[u]).name===n.name){if(3===h.state)return qe(o);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete a[u]):+u<e&&(h.state=6,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete a[u])}if(qe((function(){3===n.state&&(n.state=4,n.timer.restart(l,n.delay,n.time),l(i))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(p=n.tween.length),u=0,c=-1;u<p;++u)(h=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(r[++c]=h);r.length=c+1}}function l(e){for(var a=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(s),n.state=5,1),i=-1,o=r.length;++i<o;)r[i].call(t,a);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){for(var r in n.state=6,n.timer.stop(),delete a[e],a)return;delete t.__transition}a[e]=n,n.timer=Ke(i,0,n.time)}(t,n,{name:e,index:r,group:a,on:ze,tween:Ve,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:0})};function Qe(t,e){var n=tn(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function Ze(t,e){var n=tn(t,e);if(n.state>3)throw new Error("too late; already running");return n}function tn(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}var en=function(t,e){var n,r,a,i=t.__transition,o=!0;if(i){for(a in e=null==e?null:e+"",i)(n=i[a]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete i[a]):o=!1;o&&delete t.__transition}};function nn(t,e){var n,r;return function(){var a=Ze(this,t),i=a.tween;if(i!==n)for(var o=0,l=(r=n=i).length;o<l;++o)if(r[o].name===e){(r=r.slice()).splice(o,1);break}a.tween=r}}function rn(t,e,n){var r,a;if("function"!=typeof n)throw new Error;return function(){var i=Ze(this,t),o=i.tween;if(o!==r){a=(r=o).slice();for(var l={name:e,value:n},s=0,u=a.length;s<u;++s)if(a[s].name===e){a[s]=l;break}s===u&&a.push(l)}i.tween=a}}function an(t,e,n){var r=t._id;return t.each((function(){var t=Ze(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return tn(t,r).value[e]}}var on=function(t,e){var n;return("number"==typeof e?ve:e instanceof qt?pe:(n=qt(e))?(e=n,pe):Ee)(t,e)};function ln(t){return function(){this.removeAttribute(t)}}function sn(t){return function(){this.removeAttributeNS(t.space,t.local)}}function un(t,e,n){var r,a,i=n+"";return function(){var o=this.getAttribute(t);return o===i?null:o===r?a:a=e(r=o,n)}}function cn(t,e,n){var r,a,i=n+"";return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?a:a=e(r=o,n)}}function pn(t,e,n){var r,a,i;return function(){var o,l,s=n(this);if(null!=s)return(o=this.getAttribute(t))===(l=s+"")?null:o===r&&l===a?i:(a=l,i=e(r=o,s));this.removeAttribute(t)}}function hn(t,e,n){var r,a,i;return function(){var o,l,s=n(this);if(null!=s)return(o=this.getAttributeNS(t.space,t.local))===(l=s+"")?null:o===r&&l===a?i:(a=l,i=e(r=o,s));this.removeAttributeNS(t.space,t.local)}}function fn(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function dn(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function yn(t,e){var n,r;function a(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&dn(t,a)),n}return a._value=e,a}function vn(t,e){var n,r;function a(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&fn(t,a)),n}return a._value=e,a}function gn(t,e){return function(){Qe(this,t).delay=+e.apply(this,arguments)}}function An(t,e){return e=+e,function(){Qe(this,t).delay=e}}function mn(t,e){return function(){Ze(this,t).duration=+e.apply(this,arguments)}}function Nn(t,e){return e=+e,function(){Ze(this,t).duration=e}}function En(t,e){if("function"!=typeof e)throw new Error;return function(){Ze(this,t).ease=e}}function bn(t,e,n){var r,a,i=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?Qe:Ze;return function(){var o=i(this,t),l=o.on;l!==r&&(a=(r=l).copy()).on(e,n),o.on=a}}var Sn=Ot.prototype.constructor;function wn(t){return function(){this.style.removeProperty(t)}}function Tn(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function _n(t,e,n){var r,a;function i(){var i=e.apply(this,arguments);return i!==a&&(r=(a=i)&&Tn(t,i,n)),r}return i._value=e,i}function Mn(t){return function(e){this.textContent=t.call(this,e)}}function On(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&Mn(r)),e}return r._value=t,r}var Fn=0;function Dn(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Cn(){return++Fn}var Pn=Ot.prototype;Dn.prototype=function(t){return Ot().transition(t)}.prototype={constructor:Dn,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=b(t));for(var r=this._groups,a=r.length,i=new Array(a),o=0;o<a;++o)for(var l,s,u=r[o],c=u.length,p=i[o]=new Array(c),h=0;h<c;++h)(l=u[h])&&(s=t.call(l,l.__data__,h,u))&&("__data__"in l&&(s.__data__=l.__data__),p[h]=s,Je(p[h],e,n,h,p,tn(l,n)));return new Dn(i,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=T(t));for(var r=this._groups,a=r.length,i=[],o=[],l=0;l<a;++l)for(var s,u=r[l],c=u.length,p=0;p<c;++p)if(s=u[p]){for(var h,f=t.call(s,s.__data__,p,u),d=tn(s,n),y=0,v=f.length;y<v;++y)(h=f[y])&&Je(h,e,n,y,f,d);i.push(f),o.push(s)}return new Dn(i,o,e,n)},filter:function(t){"function"!=typeof t&&(t=v(t));for(var e=this._groups,n=e.length,r=new Array(n),a=0;a<n;++a)for(var i,o=e[a],l=o.length,s=r[a]=[],u=0;u<l;++u)(i=o[u])&&t.call(i,i.__data__,u,o)&&s.push(i);return new Dn(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,a=n.length,i=Math.min(r,a),o=new Array(r),l=0;l<i;++l)for(var s,u=e[l],c=n[l],p=u.length,h=o[l]=new Array(p),f=0;f<p;++f)(s=u[f]||c[f])&&(h[f]=s);for(;l<r;++l)o[l]=e[l];return new Dn(o,this._parents,this._name,this._id)},selection:function(){return new Sn(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=Cn(),r=this._groups,a=r.length,i=0;i<a;++i)for(var o,l=r[i],s=l.length,u=0;u<s;++u)if(o=l[u]){var c=tn(o,e);Je(o,t,n,u,l,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Dn(r,this._parents,t,n)},call:Pn.call,nodes:Pn.nodes,node:Pn.node,size:Pn.size,empty:Pn.empty,each:Pn.each,on:function(t,e){var n=this._id;return arguments.length<2?tn(this.node(),n).on.on(t):this.each(bn(n,t,e))},attr:function(t,e){var n=N(t),r="transform"===n?Fe:on;return this.attrTween(t,"function"==typeof e?(n.local?hn:pn)(n,r,an(this,"attr."+t,e)):null==e?(n.local?sn:ln)(n):(n.local?cn:un)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=N(t);return this.tween(n,(r.local?yn:vn)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?Oe:on;return null==e?this.styleTween(t,function(t,e){var n,r,a;return function(){var i=j(this,t),o=(this.style.removeProperty(t),j(this,t));return i===o?null:i===n&&o===r?a:a=e(n=i,r=o)}}(t,r)).on("end.style."+t,wn(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,a,i;return function(){var o=j(this,t),l=n(this),s=l+"";return null==l&&(this.style.removeProperty(t),s=l=j(this,t)),o===s?null:o===r&&s===a?i:(a=s,i=e(r=o,l))}}(t,r,an(this,"style."+t,e))).each(function(t,e){var n,r,a,i,o="style."+e,l="end."+o;return function(){var s=Ze(this,t),u=s.on,c=null==s.value[o]?i||(i=wn(e)):void 0;u===n&&a===c||(r=(n=u).copy()).on(l,a=c),s.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,a,i=n+"";return function(){var o=j(this,t);return o===i?null:o===r?a:a=e(r=o,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,_n(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(an(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,On(t))},remove:function(){return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}));var t},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,a=tn(this.node(),n).tween,i=0,o=a.length;i<o;++i)if((r=a[i]).name===t)return r.value;return null}return this.each((null==e?nn:rn)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?gn:An)(e,t)):tn(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?mn:Nn)(e,t)):tn(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(En(e,t)):tn(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;Ze(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,r=n._id,a=n.size();return new Promise((function(i,o){var l={value:o},s={value:function(){0==--a&&i()}};n.each((function(){var n=Ze(this,r),a=n.on;a!==t&&((e=(t=a).copy())._.cancel.push(l),e._.interrupt.push(l),e._.end.push(s)),n.on=e})),0===a&&i()}))},[Symbol.iterator]:Pn[Symbol.iterator]};var xn={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Un(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}Ot.prototype.interrupt=function(t){return this.each((function(){en(this,t)}))},Ot.prototype.transition=function(t){var e,n;t instanceof Dn?(e=t._id,t=t._name):(e=Cn(),(n=xn).time=We(),t=null==t?null:t+"");for(var r=this._groups,a=r.length,i=0;i<a;++i)for(var o,l=r[i],s=l.length,u=0;u<s;++u)(o=l[u])&&Je(o,t,e,u,l,n||Un(o,e));return new Dn(r,this._parents,t,e)};const{abs:Ln,max:kn,min:Yn}=Math;["w","e"].map(In),["n","s"].map(In),["n","w","e","s","nw","ne","sw","se"].map(In);function In(t){return{type:t}}var Gn=t=>t;function $n(t,e){t&&Rn.hasOwnProperty(t.type)&&Rn[t.type](t,e)}var Wn={Feature:function(t,e){$n(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,a=n.length;++r<a;)$n(n[r].geometry,e)}},Rn={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,a=n.length;++r<a;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){Bn(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,a=n.length;++r<a;)Bn(n[r],e,0)},Polygon:function(t,e){Kn(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,a=n.length;++r<a;)Kn(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,a=n.length;++r<a;)$n(n[r],e)}};function Bn(t,e,n){var r,a=-1,i=t.length-n;for(e.lineStart();++a<i;)r=t[a],e.point(r[0],r[1],r[2]);e.lineEnd()}function Kn(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)Bn(t[n],e,1);e.polygonEnd()}var Hn=function(t,e){t&&Wn.hasOwnProperty(t.type)?Wn[t.type](t,e):$n(t,e)},Xn=1e-6,jn=Math.PI,qn=jn/2,zn=jn/4,Vn=2*jn,Jn=180/jn,Qn=jn/180,Zn=Math.abs,tr=Math.atan,er=Math.atan2,nr=Math.cos,rr=(Math.ceil,Math.exp),ar=(Math.floor,Math.hypot,Math.log),ir=(Math.pow,Math.sin),or=Math.sign||function(t){return t>0?1:t<0?-1:0},lr=Math.sqrt,sr=Math.tan;function ur(t){return t>1?qn:t<-1?-qn:Math.asin(t)}function cr(){}var pr,hr,fr,dr,yr=new a,vr=new a,gr={point:cr,lineStart:cr,lineEnd:cr,polygonStart:function(){gr.lineStart=Ar,gr.lineEnd=Er},polygonEnd:function(){gr.lineStart=gr.lineEnd=gr.point=cr,yr.add(Zn(vr)),vr=new a},result:function(){var t=yr/2;return yr=new a,t}};function Ar(){gr.point=mr}function mr(t,e){gr.point=Nr,pr=fr=t,hr=dr=e}function Nr(t,e){vr.add(dr*t-fr*e),fr=t,dr=e}function Er(){Nr(pr,hr)}var br=1/0,Sr=br,wr=-br,Tr=wr,_r={point:function(t,e){t<br&&(br=t);t>wr&&(wr=t);e<Sr&&(Sr=e);e>Tr&&(Tr=e)},lineStart:cr,lineEnd:cr,polygonStart:cr,polygonEnd:cr,result:function(){var t=[[br,Sr],[wr,Tr]];return wr=Tr=-(Sr=br=1/0),t}};var Mr,Or,Fr,Dr,Cr=0,Pr=0,xr=0,Ur=0,Lr=0,kr=0,Yr=0,Ir=0,Gr=0,$r={point:Wr,lineStart:Rr,lineEnd:Hr,polygonStart:function(){$r.lineStart=Xr,$r.lineEnd=jr},polygonEnd:function(){$r.point=Wr,$r.lineStart=Rr,$r.lineEnd=Hr},result:function(){var t=Gr?[Yr/Gr,Ir/Gr]:kr?[Ur/kr,Lr/kr]:xr?[Cr/xr,Pr/xr]:[NaN,NaN];return Cr=Pr=xr=Ur=Lr=kr=Yr=Ir=Gr=0,t}};function Wr(t,e){Cr+=t,Pr+=e,++xr}function Rr(){$r.point=Br}function Br(t,e){$r.point=Kr,Wr(Fr=t,Dr=e)}function Kr(t,e){var n=t-Fr,r=e-Dr,a=lr(n*n+r*r);Ur+=a*(Fr+t)/2,Lr+=a*(Dr+e)/2,kr+=a,Wr(Fr=t,Dr=e)}function Hr(){$r.point=Wr}function Xr(){$r.point=qr}function jr(){zr(Mr,Or)}function qr(t,e){$r.point=zr,Wr(Mr=Fr=t,Or=Dr=e)}function zr(t,e){var n=t-Fr,r=e-Dr,a=lr(n*n+r*r);Ur+=a*(Fr+t)/2,Lr+=a*(Dr+e)/2,kr+=a,Yr+=(a=Dr*t-Fr*e)*(Fr+t),Ir+=a*(Dr+e),Gr+=3*a,Wr(Fr=t,Dr=e)}function Vr(t){this._context=t}Vr.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Vn)}},result:cr};var Jr,Qr,Zr,ta,ea,na=new a,ra={point:cr,lineStart:function(){ra.point=aa},lineEnd:function(){Jr&&ia(Qr,Zr),ra.point=cr},polygonStart:function(){Jr=!0},polygonEnd:function(){Jr=null},result:function(){var t=+na;return na=new a,t}};function aa(t,e){ra.point=ia,Qr=ta=t,Zr=ea=e}function ia(t,e){ta-=t,ea-=e,na.add(lr(ta*ta+ea*ea)),ta=t,ea=e}function oa(){this._string=[]}function la(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}oa.prototype={_radius:4.5,_circle:la(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=la(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}};var sa=function(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n};function ua(t,e){return[Zn(t)>jn?t+Math.round(-t/Vn)*Vn:t,e]}function ca(t,e,n){return(t%=Vn)?e||n?sa(ha(t),fa(e,n)):ha(t):e||n?fa(e,n):ua}function pa(t){return function(e,n){return[(e+=t)>jn?e-Vn:e<-jn?e+Vn:e,n]}}function ha(t){var e=pa(t);return e.invert=pa(-t),e}function fa(t,e){var n=nr(t),r=ir(t),a=nr(e),i=ir(e);function o(t,e){var o=nr(e),l=nr(t)*o,s=ir(t)*o,u=ir(e),c=u*n+l*r;return[er(s*a-c*i,l*n-u*r),ur(c*a+s*i)]}return o.invert=function(t,e){var o=nr(e),l=nr(t)*o,s=ir(t)*o,u=ir(e),c=u*a-s*i;return[er(s*a+u*i,l*n+c*r),ur(c*n-l*r)]},o}ua.invert=ua;var da=function(){var t,e=[];return{point:function(e,n,r){t.push([e,n,r])},lineStart:function(){e.push(t=[])},lineEnd:cr,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}},ya=function(t,e){return Zn(t[0]-e[0])<Xn&&Zn(t[1]-e[1])<Xn};function va(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}var ga=function(t,e,n,r,a){var i,o,l=[],s=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],o=t[e];if(ya(r,o)){if(!r[2]&&!o[2]){for(a.lineStart(),i=0;i<e;++i)a.point((r=t[i])[0],r[1]);return void a.lineEnd()}o[0]+=2e-6}l.push(n=new va(r,t,null,!0)),s.push(n.o=new va(r,null,n,!1)),l.push(n=new va(o,t,null,!1)),s.push(n.o=new va(o,null,n,!0))}})),l.length){for(s.sort(e),Aa(l),Aa(s),i=0,o=s.length;i<o;++i)s[i].e=n=!n;for(var u,c,p=l[0];;){for(var h=p,f=!0;h.v;)if((h=h.n)===p)return;u=h.z,a.lineStart();do{if(h.v=h.o.v=!0,h.e){if(f)for(i=0,o=u.length;i<o;++i)a.point((c=u[i])[0],c[1]);else r(h.x,h.n.x,1,a);h=h.n}else{if(f)for(u=h.p.z,i=u.length-1;i>=0;--i)a.point((c=u[i])[0],c[1]);else r(h.x,h.p.x,-1,a);h=h.p}u=(h=h.o).z,f=!f}while(!h.v);a.lineEnd()}}};function Aa(t){if(e=t.length){for(var e,n,r=0,a=t[0];++r<e;)a.n=n=t[r],n.p=a,a=n;a.n=n=t[0],n.p=a}}function ma(t){return[er(t[1],t[0]),ur(t[2])]}function Na(t){var e=t[0],n=t[1],r=nr(n);return[r*nr(e),r*ir(e),ir(n)]}function Ea(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function ba(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Sa(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function wa(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Ta(t){var e=lr(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function _a(t){return Zn(t[0])<=jn?t[0]:or(t[0])*((Zn(t[0])+jn)%Vn-jn)}var Ma=function(t,e,n,r){return function(o){var l,s,u,c=e(o),p=da(),h=e(p),f=!1,d={point:y,lineStart:g,lineEnd:A,polygonStart:function(){d.point=m,d.lineStart=N,d.lineEnd=E,s=[],l=[]},polygonEnd:function(){d.point=y,d.lineStart=g,d.lineEnd=A,s=i(s);var t=function(t,e){var n=_a(e),r=e[1],i=ir(r),o=[ir(n),-nr(n),0],l=0,s=0,u=new a;1===i?r=qn+Xn:-1===i&&(r=-qn-Xn);for(var c=0,p=t.length;c<p;++c)if(f=(h=t[c]).length)for(var h,f,d=h[f-1],y=_a(d),v=d[1]/2+zn,g=ir(v),A=nr(v),m=0;m<f;++m,y=E,g=S,A=w,d=N){var N=h[m],E=_a(N),b=N[1]/2+zn,S=ir(b),w=nr(b),T=E-y,_=T>=0?1:-1,M=_*T,O=M>jn,F=g*S;if(u.add(er(F*_*ir(M),A*w+F*nr(M))),l+=O?T+_*Vn:T,O^y>=n^E>=n){var D=ba(Na(d),Na(N));Ta(D);var C=ba(o,D);Ta(C);var P=(O^T>=0?-1:1)*ur(C[2]);(r>P||r===P&&(D[0]||D[1]))&&(s+=O^T>=0?1:-1)}}return(l<-1e-6||l<Xn&&u<-1e-12)^1&s}(l,r);s.length?(f||(o.polygonStart(),f=!0),ga(s,Fa,t,n,o)):t&&(f||(o.polygonStart(),f=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),f&&(o.polygonEnd(),f=!1),s=l=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function y(e,n){t(e,n)&&o.point(e,n)}function v(t,e){c.point(t,e)}function g(){d.point=v,c.lineStart()}function A(){d.point=y,c.lineEnd()}function m(t,e){u.push([t,e]),h.point(t,e)}function N(){h.lineStart(),u=[]}function E(){m(u[0][0],u[0][1]),h.lineEnd();var t,e,n,r,a=h.clean(),i=p.result(),c=i.length;if(u.pop(),l.push(u),u=null,c)if(1&a){if((e=(n=i[0]).length-1)>0){for(f||(o.polygonStart(),f=!0),o.lineStart(),t=0;t<e;++t)o.point((r=n[t])[0],r[1]);o.lineEnd()}}else c>1&&2&a&&i.push(i.pop().concat(i.shift())),s.push(i.filter(Oa))}return d}};function Oa(t){return t.length>1}function Fa(t,e){return((t=t.x)[0]<0?t[1]-qn-Xn:qn-t[1])-((e=e.x)[0]<0?e[1]-qn-Xn:qn-e[1])}var Da=Ma((function(){return!0}),(function(t){var e,n=NaN,r=NaN,a=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(i,o){var l=i>0?jn:-jn,s=Zn(i-n);Zn(s-jn)<Xn?(t.point(n,r=(r+o)/2>0?qn:-qn),t.point(a,r),t.lineEnd(),t.lineStart(),t.point(l,r),t.point(i,r),e=0):a!==l&&s>=jn&&(Zn(n-a)<Xn&&(n-=a*Xn),Zn(i-l)<Xn&&(i-=l*Xn),r=function(t,e,n,r){var a,i,o=ir(t-n);return Zn(o)>Xn?tr((ir(e)*(i=nr(r))*ir(n)-ir(r)*(a=nr(e))*ir(t))/(a*i*o)):(e+r)/2}(n,r,i,o),t.point(a,r),t.lineEnd(),t.lineStart(),t.point(l,r),e=0),t.point(n=i,r=o),a=l},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}),(function(t,e,n,r){var a;if(null==t)a=n*qn,r.point(-jn,a),r.point(0,a),r.point(jn,a),r.point(jn,0),r.point(jn,-a),r.point(0,-a),r.point(-jn,-a),r.point(-jn,0),r.point(-jn,a);else if(Zn(t[0]-e[0])>Xn){var i=t[0]<e[0]?jn:-jn;a=n*i/2,r.point(-i,a),r.point(0,a),r.point(i,a)}else r.point(e[0],e[1])}),[-jn,-qn]);function Ca(t,e){(e=Na(e))[0]-=t,Ta(e);var n,r=(n=-e[1])>1?0:n<-1?jn:Math.acos(n);return((-e[2]<0?-r:r)+Vn-Xn)%Vn}var Pa=function(t){var e=nr(t),n=6*Qn,r=e>0,a=Zn(e)>Xn;function i(t,n){return nr(t)*nr(n)>e}function o(t,n,r){var a=[1,0,0],i=ba(Na(t),Na(n)),o=Ea(i,i),l=i[0],s=o-l*l;if(!s)return!r&&t;var u=e*o/s,c=-e*l/s,p=ba(a,i),h=wa(a,u);Sa(h,wa(i,c));var f=p,d=Ea(h,f),y=Ea(f,f),v=d*d-y*(Ea(h,h)-1);if(!(v<0)){var g=lr(v),A=wa(f,(-d-g)/y);if(Sa(A,h),A=ma(A),!r)return A;var m,N=t[0],E=n[0],b=t[1],S=n[1];E<N&&(m=N,N=E,E=m);var w=E-N,T=Zn(w-jn)<Xn;if(!T&&S<b&&(m=b,b=S,S=m),T||w<Xn?T?b+S>0^A[1]<(Zn(A[0]-N)<Xn?b:S):b<=A[1]&&A[1]<=S:w>jn^(N<=A[0]&&A[0]<=E)){var _=wa(f,(-d+g)/y);return Sa(_,h),[A,ma(_)]}}}function l(e,n){var a=r?t:jn-t,i=0;return e<-a?i|=1:e>a&&(i|=2),n<-a?i|=4:n>a&&(i|=8),i}return Ma(i,(function(t){var e,n,s,u,c;return{lineStart:function(){u=s=!1,c=1},point:function(p,h){var f,d=[p,h],y=i(p,h),v=r?y?0:l(p,h):y?l(p+(p<0?jn:-jn),h):0;if(!e&&(u=s=y)&&t.lineStart(),y!==s&&(!(f=o(e,d))||ya(e,f)||ya(d,f))&&(d[2]=1),y!==s)c=0,y?(t.lineStart(),f=o(d,e),t.point(f[0],f[1])):(f=o(e,d),t.point(f[0],f[1],2),t.lineEnd()),e=f;else if(a&&e&&r^y){var g;v&n||!(g=o(d,e,!0))||(c=0,r?(t.lineStart(),t.point(g[0][0],g[0][1]),t.point(g[1][0],g[1][1]),t.lineEnd()):(t.point(g[1][0],g[1][1]),t.lineEnd(),t.lineStart(),t.point(g[0][0],g[0][1],3)))}!y||e&&ya(e,d)||t.point(d[0],d[1]),e=d,s=y,n=v},lineEnd:function(){s&&t.lineEnd(),e=null},clean:function(){return c|(u&&s)<<1}}}),(function(e,r,a,i){!function(t,e,n,r,a,i){if(n){var o=nr(e),l=ir(e),s=r*n;null==a?(a=e+r*Vn,i=e-s/2):(a=Ca(o,a),i=Ca(o,i),(r>0?a<i:a>i)&&(a+=r*Vn));for(var u,c=a;r>0?c>i:c<i;c-=s)u=ma([o,-l*nr(c),-l*ir(c)]),t.point(u[0],u[1])}}(i,t,n,a,e,r)}),r?[0,-t]:[-jn,t-jn])},xa=1e9,Ua=-1e9;function La(t,e,n,r){function a(a,i){return t<=a&&a<=n&&e<=i&&i<=r}function o(a,i,o,s){var c=0,p=0;if(null==a||(c=l(a,o))!==(p=l(i,o))||u(a,i)<0^o>0)do{s.point(0===c||3===c?t:n,c>1?r:e)}while((c=(c+o+4)%4)!==p);else s.point(i[0],i[1])}function l(r,a){return Zn(r[0]-t)<Xn?a>0?0:3:Zn(r[0]-n)<Xn?a>0?2:1:Zn(r[1]-e)<Xn?a>0?1:0:a>0?3:2}function s(t,e){return u(t.x,e.x)}function u(t,e){var n=l(t,1),r=l(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(l){var u,c,p,h,f,d,y,v,g,A,m,N=l,E=da(),b={point:S,lineStart:function(){b.point=w,c&&c.push(p=[]);A=!0,g=!1,y=v=NaN},lineEnd:function(){u&&(w(h,f),d&&g&&E.rejoin(),u.push(E.result()));b.point=S,g&&N.lineEnd()},polygonStart:function(){N=E,u=[],c=[],m=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,a=c.length;n<a;++n)for(var i,o,l=c[n],s=1,u=l.length,p=l[0],h=p[0],f=p[1];s<u;++s)i=h,o=f,h=(p=l[s])[0],f=p[1],o<=r?f>r&&(h-i)*(r-o)>(f-o)*(t-i)&&++e:f<=r&&(h-i)*(r-o)<(f-o)*(t-i)&&--e;return e}(),n=m&&e,a=(u=i(u)).length;(n||a)&&(l.polygonStart(),n&&(l.lineStart(),o(null,null,1,l),l.lineEnd()),a&&ga(u,s,e,o,l),l.polygonEnd());N=l,u=c=p=null}};function S(t,e){a(t,e)&&N.point(t,e)}function w(i,o){var l=a(i,o);if(c&&p.push([i,o]),A)h=i,f=o,d=l,A=!1,l&&(N.lineStart(),N.point(i,o));else if(l&&g)N.point(i,o);else{var s=[y=Math.max(Ua,Math.min(xa,y)),v=Math.max(Ua,Math.min(xa,v))],u=[i=Math.max(Ua,Math.min(xa,i)),o=Math.max(Ua,Math.min(xa,o))];!function(t,e,n,r,a,i){var o,l=t[0],s=t[1],u=0,c=1,p=e[0]-l,h=e[1]-s;if(o=n-l,p||!(o>0)){if(o/=p,p<0){if(o<u)return;o<c&&(c=o)}else if(p>0){if(o>c)return;o>u&&(u=o)}if(o=a-l,p||!(o<0)){if(o/=p,p<0){if(o>c)return;o>u&&(u=o)}else if(p>0){if(o<u)return;o<c&&(c=o)}if(o=r-s,h||!(o>0)){if(o/=h,h<0){if(o<u)return;o<c&&(c=o)}else if(h>0){if(o>c)return;o>u&&(u=o)}if(o=i-s,h||!(o<0)){if(o/=h,h<0){if(o>c)return;o>u&&(u=o)}else if(h>0){if(o<u)return;o<c&&(c=o)}return u>0&&(t[0]=l+u*p,t[1]=s+u*h),c<1&&(e[0]=l+c*p,e[1]=s+c*h),!0}}}}}(s,u,t,e,n,r)?l&&(N.lineStart(),N.point(i,o),m=!1):(g||(N.lineStart(),N.point(s[0],s[1])),N.point(u[0],u[1]),l||N.lineEnd(),m=!1)}y=i,v=o,g=l}return b}}function ka(t){return function(e){var n=new Ya;for(var r in t)n[r]=t[r];return n.stream=e,n}}function Ya(){}function Ia(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),Hn(n,t.stream(_r)),e(_r.result()),null!=r&&t.clipExtent(r),t}function Ga(t,e,n){return Ia(t,(function(n){var r=e[1][0]-e[0][0],a=e[1][1]-e[0][1],i=Math.min(r/(n[1][0]-n[0][0]),a/(n[1][1]-n[0][1])),o=+e[0][0]+(r-i*(n[1][0]+n[0][0]))/2,l=+e[0][1]+(a-i*(n[1][1]+n[0][1]))/2;t.scale(150*i).translate([o,l])}),n)}Ya.prototype={constructor:Ya,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var $a=nr(30*Qn),Wa=function(t,e){return+e?function(t,e){function n(r,a,i,o,l,s,u,c,p,h,f,d,y,v){var g=u-r,A=c-a,m=g*g+A*A;if(m>4*e&&y--){var N=o+h,E=l+f,b=s+d,S=lr(N*N+E*E+b*b),w=ur(b/=S),T=Zn(Zn(b)-1)<Xn||Zn(i-p)<Xn?(i+p)/2:er(E,N),_=t(T,w),M=_[0],O=_[1],F=M-r,D=O-a,C=A*F-g*D;(C*C/m>e||Zn((g*F+A*D)/m-.5)>.3||o*h+l*f+s*d<$a)&&(n(r,a,i,o,l,s,M,O,T,N/=S,E/=S,b,y,v),v.point(M,O),n(M,O,T,N,E,b,u,c,p,h,f,d,y,v))}}return function(e){var r,a,i,o,l,s,u,c,p,h,f,d,y={point:v,lineStart:g,lineEnd:m,polygonStart:function(){e.polygonStart(),y.lineStart=N},polygonEnd:function(){e.polygonEnd(),y.lineStart=g}};function v(n,r){n=t(n,r),e.point(n[0],n[1])}function g(){c=NaN,y.point=A,e.lineStart()}function A(r,a){var i=Na([r,a]),o=t(r,a);n(c,p,u,h,f,d,c=o[0],p=o[1],u=r,h=i[0],f=i[1],d=i[2],16,e),e.point(c,p)}function m(){y.point=v,e.lineEnd()}function N(){g(),y.point=E,y.lineEnd=b}function E(t,e){A(r=t,e),a=c,i=p,o=h,l=f,s=d,y.point=A}function b(){n(c,p,u,h,f,d,a,i,r,o,l,s,16,e),y.lineEnd=m,m()}return y}}(t,e):function(t){return ka({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)};var Ra=ka({point:function(t,e){this.stream.point(t*Qn,e*Qn)}});function Ba(t,e,n,r,a,i){if(!i)return function(t,e,n,r,a){function i(i,o){return[e+t*(i*=r),n-t*(o*=a)]}return i.invert=function(i,o){return[(i-e)/t*r,(n-o)/t*a]},i}(t,e,n,r,a);var o=nr(i),l=ir(i),s=o*t,u=l*t,c=o/t,p=l/t,h=(l*n-o*e)/t,f=(l*e+o*n)/t;function d(t,i){return[s*(t*=r)-u*(i*=a)+e,n-u*t-s*i]}return d.invert=function(t,e){return[r*(c*t-p*e+h),a*(f-p*t-c*e)]},d}function Ka(t){return function(t){var e,n,r,a,i,o,l,s,u,c,p=150,h=480,f=250,d=0,y=0,v=0,g=0,A=0,m=0,N=1,E=1,b=null,S=Da,w=null,T=Gn,_=.5;function M(t){return s(t[0]*Qn,t[1]*Qn)}function O(t){return(t=s.invert(t[0],t[1]))&&[t[0]*Jn,t[1]*Jn]}function F(){var t=Ba(p,0,0,N,E,m).apply(null,e(d,y)),r=Ba(p,h-t[0],f-t[1],N,E,m);return n=ca(v,g,A),l=sa(e,r),s=sa(n,l),o=Wa(l,_),D()}function D(){return u=c=null,M}return M.stream=function(t){return u&&c===t?u:u=Ra(function(t){return ka({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}(n)(S(o(T(c=t)))))},M.preclip=function(t){return arguments.length?(S=t,b=void 0,D()):S},M.postclip=function(t){return arguments.length?(T=t,w=r=a=i=null,D()):T},M.clipAngle=function(t){return arguments.length?(S=+t?Pa(b=t*Qn):(b=null,Da),D()):b*Jn},M.clipExtent=function(t){return arguments.length?(T=null==t?(w=r=a=i=null,Gn):La(w=+t[0][0],r=+t[0][1],a=+t[1][0],i=+t[1][1]),D()):null==w?null:[[w,r],[a,i]]},M.scale=function(t){return arguments.length?(p=+t,F()):p},M.translate=function(t){return arguments.length?(h=+t[0],f=+t[1],F()):[h,f]},M.center=function(t){return arguments.length?(d=t[0]%360*Qn,y=t[1]%360*Qn,F()):[d*Jn,y*Jn]},M.rotate=function(t){return arguments.length?(v=t[0]%360*Qn,g=t[1]%360*Qn,A=t.length>2?t[2]%360*Qn:0,F()):[v*Jn,g*Jn,A*Jn]},M.angle=function(t){return arguments.length?(m=t%360*Qn,F()):m*Jn},M.reflectX=function(t){return arguments.length?(N=t?-1:1,F()):N<0},M.reflectY=function(t){return arguments.length?(E=t?-1:1,F()):E<0},M.precision=function(t){return arguments.length?(o=Wa(l,_=t*t),D()):lr(_)},M.fitExtent=function(t,e){return Ga(M,t,e)},M.fitSize=function(t,e){return function(t,e,n){return Ga(t,[[0,0],e],n)}(M,t,e)},M.fitWidth=function(t,e){return function(t,e,n){return Ia(t,(function(n){var r=+e,a=r/(n[1][0]-n[0][0]),i=(r-a*(n[1][0]+n[0][0]))/2,o=-a*n[0][1];t.scale(150*a).translate([i,o])}),n)}(M,t,e)},M.fitHeight=function(t,e){return function(t,e,n){return Ia(t,(function(n){var r=+e,a=r/(n[1][1]-n[0][1]),i=-a*n[0][0],o=(r-a*(n[1][1]+n[0][1]))/2;t.scale(150*a).translate([i,o])}),n)}(M,t,e)},function(){return e=t.apply(this,arguments),M.invert=e.invert&&O,F()}}((function(){return t}))()}function Ha(t,e){return[t,ar(sr((qn+e)/2))]}Ha.invert=function(t,e){return[t,2*tr(rr(e))-qn]};var Xa=function(){return function(t){var e,n,r,a=Ka(t),i=a.center,o=a.scale,l=a.translate,s=a.clipExtent,u=null;function c(){var i=jn*o(),l=a(function(t){function e(e){return(e=t(e[0]*Qn,e[1]*Qn))[0]*=Jn,e[1]*=Jn,e}return t=ca(t[0]*Qn,t[1]*Qn,t.length>2?t[2]*Qn:0),e.invert=function(e){return(e=t.invert(e[0]*Qn,e[1]*Qn))[0]*=Jn,e[1]*=Jn,e},e}(a.rotate()).invert([0,0]));return s(null==u?[[l[0]-i,l[1]-i],[l[0]+i,l[1]+i]]:t===Ha?[[Math.max(l[0]-i,u),e],[Math.min(l[0]+i,n),r]]:[[u,Math.max(l[1]-i,e)],[n,Math.min(l[1]+i,r)]])}return a.scale=function(t){return arguments.length?(o(t),c()):o()},a.translate=function(t){return arguments.length?(l(t),c()):l()},a.center=function(t){return arguments.length?(i(t),c()):i()},a.clipExtent=function(t){return arguments.length?(null==t?u=e=n=r=null:(u=+t[0][0],e=+t[0][1],n=+t[1][0],r=+t[1][1]),c()):null==u?null:[[u,e],[n,r]]},c()}(Ha).scale(961/Vn)};function ja(t){return+t}var qa=[0,1];function za(t){return t}function Va(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function Ja(t,e,n){var r=t[0],a=t[1],i=e[0],o=e[1];return a<r?(r=Va(a,r),i=n(o,i)):(r=Va(r,a),i=n(i,o)),function(t){return i(r(t))}}function Qa(t,e,n){var a=Math.min(t.length,e.length)-1,i=new Array(a),o=new Array(a),l=-1;for(t[a]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<a;)i[l]=Va(t[l],t[l+1]),o[l]=n(e[l],e[l+1]);return function(e){var n=r(t,e,1,a)-1;return o[n](i[n](e))}}function Za(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ti(){var t,e,n,r,a,i,o=qa,l=qa,s=be,u=za;function c(){var t,e,n,s=Math.min(o.length,l.length);return u!==za&&(t=o[0],e=o[s-1],t>e&&(n=t,t=e,e=n),u=function(n){return Math.max(t,Math.min(e,n))}),r=s>2?Qa:Ja,a=i=null,p}function p(e){return isNaN(e=+e)?n:(a||(a=r(o.map(t),l,s)))(t(u(e)))}return p.invert=function(n){return u(e((i||(i=r(l,o.map(t),ve)))(n)))},p.domain=function(t){return arguments.length?(o=Array.from(t,ja),c()):o.slice()},p.range=function(t){return arguments.length?(l=Array.from(t),c()):l.slice()},p.rangeRound=function(t){return l=Array.from(t),s=Se,c()},p.clamp=function(t){return arguments.length?(u=!!t||za,c()):u!==za},p.interpolate=function(t){return arguments.length?(s=t,c()):s},p.unknown=function(t){return arguments.length?(n=t,p):n},function(n,r){return t=n,e=r,c()}}function ei(){return ti()(za,za)}function ni(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function ri(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}var ai=function(t){return(t=ri(Math.abs(t)))?t[1]:NaN},ii=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function oi(t){if(!(e=ii.exec(t)))throw new Error("invalid format: "+t);var e;return new li({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function li(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}oi.prototype=li.prototype,li.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var si,ui,ci,pi,hi=function(t,e){var n=ri(t,e);if(!n)return t+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")},fi={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>hi(100*t,e),r:hi,s:function(t,e){var n=ri(t,e);if(!n)return t+"";var r=n[0],a=n[1],i=a-(si=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+ri(t,Math.max(0,e+i-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)},di=function(t){return t},yi=Array.prototype.map,vi=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];ui=function(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?di:(e=yi.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var a=t.length,i=[],o=0,l=e[0],s=0;a>0&&l>0&&(s+l+1>r&&(l=Math.max(1,r-s)),i.push(t.substring(a-=l,a+l)),!((s+=l+1)>r));)l=e[o=(o+1)%e.length];return i.reverse().join(n)}),a=void 0===t.currency?"":t.currency[0]+"",i=void 0===t.currency?"":t.currency[1]+"",o=void 0===t.decimal?".":t.decimal+"",l=void 0===t.numerals?di:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(yi.call(t.numerals,String)),s=void 0===t.percent?"%":t.percent+"",u=void 0===t.minus?"":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function p(t){var e=(t=oi(t)).fill,n=t.align,p=t.sign,h=t.symbol,f=t.zero,d=t.width,y=t.comma,v=t.precision,g=t.trim,A=t.type;"n"===A?(y=!0,A="g"):fi[A]||(void 0===v&&(v=12),g=!0,A="g"),(f||"0"===e&&"="===n)&&(f=!0,e="0",n="=");var m="$"===h?a:"#"===h&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",N="$"===h?i:/[%p]/.test(A)?s:"",E=fi[A],b=/[defgprs%]/.test(A);function S(t){var a,i,s,h=m,S=N;if("c"===A)S=E(t)+S,t="";else{var w=(t=+t)<0||1/t<0;if(t=isNaN(t)?c:E(Math.abs(t),v),g&&(t=function(t){t:for(var e,n=t.length,r=1,a=-1;r<n;++r)switch(t[r]){case".":a=e=r;break;case"0":0===a&&(a=r),e=r;break;default:if(!+t[r])break t;a>0&&(a=0)}return a>0?t.slice(0,a)+t.slice(e+1):t}(t)),w&&0==+t&&"+"!==p&&(w=!1),h=(w?"("===p?p:u:"-"===p||"("===p?"":p)+h,S=("s"===A?vi[8+si/3]:"")+S+(w&&"("===p?")":""),b)for(a=-1,i=t.length;++a<i;)if(48>(s=t.charCodeAt(a))||s>57){S=(46===s?o+t.slice(a+1):t.slice(a))+S,t=t.slice(0,a);break}}y&&!f&&(t=r(t,1/0));var T=h.length+t.length+S.length,_=T<d?new Array(d-T+1).join(e):"";switch(y&&f&&(t=r(_+t,_.length?d-S.length:1/0),_=""),n){case"<":t=h+t+S+_;break;case"=":t=h+_+t+S;break;case"^":t=_.slice(0,T=_.length>>1)+h+t+S+_.slice(T);break;default:t=_+h+t+S}return l(t)}return v=void 0===v?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),S.toString=function(){return t+""},S}return{format:p,formatPrefix:function(t,e){var n=p(((t=oi(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(ai(e)/3))),a=Math.pow(10,-r),i=vi[8+r/3];return function(t){return n(a*t)+i}}}}({thousands:",",grouping:[3],currency:["$",""]}),ci=ui.format,pi=ui.formatPrefix;function gi(t,e,n,r){var a,i=function(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),a=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),i=r/a;return i>=o?a*=10:i>=l?a*=5:i>=s&&(a*=2),e<t?-a:a}(t,e,n);switch((r=oi(null==r?",f":r)).type){case"s":var u=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(a=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(ai(e)/3)))-ai(Math.abs(t)))}(i,u))||(r.precision=a),pi(r,u);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(a=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ai(e)-ai(t))+1}(i,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=a-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(a=function(t){return Math.max(0,-ai(Math.abs(t)))}(i))||(r.precision=a-2*("%"===r.type))}return ci(r)}function Ai(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){var r,a,i,o,l=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((r=e<t)&&(a=t,t=e,e=a),0===(o=u(t,e,n))||!isFinite(o))return[];if(o>0)for(t=Math.ceil(t/o),e=Math.floor(e/o),i=new Array(a=Math.ceil(e-t+1));++l<a;)i[l]=(t+l)*o;else for(o=-o,t=Math.ceil(t*o),e=Math.floor(e*o),i=new Array(a=Math.ceil(e-t+1));++l<a;)i[l]=(t+l)/o;return r&&i.reverse(),i}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return gi(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,a,i=e(),o=0,l=i.length-1,s=i[o],c=i[l],p=10;for(c<s&&(a=s,s=c,c=a,a=o,o=l,l=a);p-- >0;){if((a=u(s,c,n))===r)return i[o]=s,i[l]=c,e(i);if(a>0)s=Math.floor(s/a)*a,c=Math.ceil(c/a)*a;else{if(!(a<0))break;s=Math.ceil(s*a)/a,c=Math.floor(c*a)/a}r=a}return t},t}function mi(){var t=ei();return t.copy=function(){return Za(t,mi())},ni.apply(t,arguments),Ai(t)}function Ni(){var t,e=[.5],n=[0,1],a=1;function i(i){return i<=i?n[r(e,i,0,a)]:t}return i.domain=function(t){return arguments.length?(e=Array.from(t),a=Math.min(e.length,n.length-1),i):e.slice()},i.range=function(t){return arguments.length?(n=Array.from(t),a=Math.min(e.length,n.length-1),i):n.slice()},i.invertExtent=function(t){var r=n.indexOf(t);return[e[r-1],e[r]]},i.unknown=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return Ni().domain(e).range(n).unknown(t)},ni.apply(i,arguments)}function Ei(t,e,n){this.k=t,this.x=e,this.y=n}Ei.prototype={constructor:Ei,scale:function(t){return 1===t?this:new Ei(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new Ei(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new Ei(1,0,0);Ei.prototype;var bi=function(t){return t},Si=function(t){if(null==t)return bi;var e,n,r=t.scale[0],a=t.scale[1],i=t.translate[0],o=t.translate[1];return function(t,l){l||(e=n=0);var s=2,u=t.length,c=new Array(u);for(c[0]=(e+=t[0])*r+i,c[1]=(n+=t[1])*a+o;s<u;)c[s]=t[s],++s;return c}},wi=function(t,e){return"GeometryCollection"===e.type?{type:"FeatureCollection",features:e.geometries.map((function(e){return Ti(t,e)}))}:Ti(t,e)};function Ti(t,e){var n=e.id,r=e.bbox,a=null==e.properties?{}:e.properties,i=_i(t,e);return null==n&&null==r?{type:"Feature",properties:a,geometry:i}:null==r?{type:"Feature",id:n,properties:a,geometry:i}:{type:"Feature",id:n,bbox:r,properties:a,geometry:i}}function _i(t,e){var n=Si(t.transform),r=t.arcs;function a(t,e){e.length&&e.pop();for(var a=r[t<0?~t:t],i=0,o=a.length;i<o;++i)e.push(n(a[i],i));t<0&&function(t,e){for(var n,r=t.length,a=r-e;a<--r;)n=t[a],t[a++]=t[r],t[r]=n}(e,o)}function i(t){return n(t)}function o(t){for(var e=[],n=0,r=t.length;n<r;++n)a(t[n],e);return e.length<2&&e.push(e[0]),e}function l(t){for(var e=o(t);e.length<4;)e.push(e[0]);return e}function s(t){return t.map(l)}return function t(e){var n,r=e.type;switch(r){case"GeometryCollection":return{type:r,geometries:e.geometries.map(t)};case"Point":n=i(e.coordinates);break;case"MultiPoint":n=e.coordinates.map(i);break;case"LineString":n=o(e.arcs);break;case"MultiLineString":n=e.arcs.map(o);break;case"Polygon":n=s(e.arcs);break;case"MultiPolygon":n=e.arcs.map(s);break;default:return null}return{type:r,coordinates:n}}(e)}var Mi=new ArrayBuffer(16);new Float64Array(Mi),new Uint32Array(Mi);Math.PI,Math.abs,Math.atan2,Math.cos,Math.sin;const Oi={type:"Topology",transform:{scale:[.0017670448167643974,.0012458904739165544],translate:[-80.51993641973256,39.71990436019388]},arcs:[[[2559,958],[150,76],[-21,33],[42,65],[26,-7]],[[2756,1125],[87,-107],[-34,-47],[39,-73],[7,-19]],[[2855,879],[-58,-12],[-18,-10]],[[2779,857],[-49,-14],[-35,-28]],[[2695,815],[-73,65],[-23,29],[-40,49]],[[1725,180],[39,40],[123,29],[27,32]],[[1914,281],[68,-45],[29,-63],[7,-63],[-26,-21],[1,-89]],[[1993,0],[-124,0],[-13,0],[-124,0]],[[1732,0],[-7,180]],[[0,909],[205,3]],[[205,912],[5,-146]],[[210,766],[2,-48],[-35,-21],[-7,-5],[-80,-84]],[[90,608],[-89,0]],[[1,608],[0,130],[-1,171]],[[2144,1165],[30,-14],[22,1]],[[2196,1152],[12,-74],[28,-8],[31,-75],[-8,-61]],[[2259,934],[-16,45],[-49,20],[-85,-14],[33,116],[2,64]],[[2343,848],[42,21],[12,65],[44,54]],[[2441,988],[101,-39],[17,9]],[[2695,815],[-29,-22],[-47,-24]],[[2619,769],[-58,-30],[-13,-53],[-87,-31],[-152,-32]],[[2309,623],[-54,48]],[[2255,671],[-94,82]],[[2161,753],[8,6],[174,89]],[[1647,1829],[341,2],[24,0],[22,0]],[[2034,1831],[29,-325]],[[2063,1506],[-48,-36],[-362,-8]],[[1653,1462],[-2,117],[-2,157],[-2,93]],[[1790,873],[235,65],[80,-5]],[[2105,933],[1,-3],[-29,-55],[-8,-83],[-43,-54]],[[2026,738],[-96,42],[-101,2]],[[1829,782],[-37,6],[-2,85]],[[906,1829],[182,1],[163,-1],[21,0],[37,0]],[[1309,1829],[2,-306]],[[1311,1523],[-118,-1],[-4,-11]],[[1189,1511],[-37,22],[-267,-5]],[[885,1528],[22,174],[-1,127]],[[2855,879],[52,13],[50,25],[43,53],[54,30]],[[3054,1e3],[14,-31],[19,-33],[-15,-29],[-10,-47],[-1,0],[-38,-21],[-8,-39],[0,-31],[1,-32],[1,-23]],[[3017,714],[-39,-22],[-43,-36]],[[2935,656],[-40,36],[9,41],[-53,19],[-28,64],[-44,41]],[[368,383],[50,25],[-1,70],[11,60],[24,15],[10,20],[1,74],[-11,13],[-15,8],[-10,-2],[0,1],[-3,10],[-2,5],[1,9],[0,3],[5,7],[8,5],[21,17],[11,40]],[[468,763],[14,8],[124,-120]],[[606,651],[-2,-37],[33,-22],[135,-36],[20,-33],[58,39],[24,-19]],[[874,543],[-37,-75],[-9,-14]],[[828,454],[-18,-35],[-53,-105],[-63,-57]],[[694,257],[-105,83],[-91,-44],[-59,32],[-75,-1]],[[364,327],[-15,20],[-1,4],[3,4],[4,2],[3,0],[10,-2],[0,28]],[[2309,623],[56,-49],[20,-17],[57,-42],[30,-36]],[[2472,479],[-88,-49],[-90,-22],[-56,-25]],[[2238,383],[-7,17],[-56,206],[80,65]],[[2063,1506],[35,-5]],[[2098,1501],[36,-148],[89,-82],[82,-23]],[[2305,1248],[-82,-94],[-27,-2]],[[2144,1165],[-86,-12],[-7,-14]],[[2051,1139],[-36,7],[-10,-48],[-94,-16]],[[1911,1082],[-101,121],[-116,112],[-40,66],[0,30]],[[1654,1411],[-1,51]],[[1786,905],[48,50],[77,108]],[[1911,1063],[0,19]],[[2051,1139],[21,-53],[3,-126],[30,-27]],[[1790,873],[-4,32]],[[295,1420],[96,106],[80,-3],[25,0],[18,5]],[[514,1528],[57,0]],[[571,1528],[0,-127],[19,-21],[0,-43]],[[590,1337],[0,-40],[-71,-12],[-52,-119]],[[467,1166],[-172,-1]],[[295,1165],[0,255]],[[2383,1276],[15,53]],[[2398,1329],[157,7],[96,34]],[[2651,1370],[22,-39],[20,-14],[42,-18],[19,-65],[5,-66],[25,-11]],[[2784,1157],[-28,-32]],[[2441,988],[-12,150],[-28,-5],[-23,61],[5,82]],[[2098,1501],[336,-39]],[[2434,1462],[-5,-25],[-31,-108]],[[2383,1276],[-56,-1],[-22,-27]],[[1311,1523],[86,-114],[35,-1]],[[1432,1408],[0,-86],[-59,-121]],[[1373,1201],[-81,11]],[[1292,1212],[-10,140],[-94,0],[1,159]],[[2629,335],[74,64],[26,20]],[[2729,419],[78,-26],[55,-85],[3,-12],[54,-18]],[[2919,278],[-42,-65],[-72,-67],[-20,-22],[2,-32]],[[2787,92],[-39,-10],[-30,-24],[-21,-27],[-11,-29],[-9,0],[-13,0],[-183,-1]],[[2481,1],[19,3],[30,62],[18,25],[16,31],[-3,65],[33,68],[-4,55],[39,25]],[[1053,420],[4,31],[18,37]],[[1075,488],[97,-67],[8,47],[82,-49],[18,45]],[[1280,464],[12,-59],[58,-47]],[[1350,358],[-41,-64],[14,-22],[-66,-187],[-47,-83]],[[1210,2],[-194,1],[-48,0]],[[968,3],[29,80],[-3,187],[13,11],[46,139]],[[1370,2],[54,84],[47,139],[32,49]],[[1503,274],[54,115],[37,48]],[[1594,437],[18,21]],[[1612,458],[39,-50],[-7,-24]],[[1644,384],[47,-120],[44,-61],[-10,-23]],[[1732,0],[-5,0],[-1,0],[-169,1],[-174,1],[-13,0]],[[2935,656],[-43,-39],[-42,-56]],[[2850,561],[-4,3],[-22,20]],[[2824,584],[-24,21],[-181,164]],[[1606,811],[17,12],[163,82]],[[1829,782],[-114,-63],[-5,-27],[-144,-163]],[[1566,529],[-5,-8],[-86,24],[55,82],[-14,40],[87,101],[3,43]],[[2850,561],[136,-116],[129,-109]],[[3115,336],[-52,-72],[-11,5],[-55,31],[-23,-32],[33,-34],[-24,-17],[-16,-11]],[[2967,206],[-20,35],[-21,26],[-7,11]],[[2729,419],[33,57],[62,108]],[[1612,458],[74,88],[203,146],[132,37]],[[2021,729],[-25,-48],[23,-85],[-36,-30],[-3,-47],[59,-28],[1,-2]],[[2040,489],[-33,-15],[-62,-7],[-88,-14],[-24,-6],[-79,-17],[34,47],[-139,-103],[-5,10]],[[3115,336],[34,-35],[-14,-24],[4,-15]],[[3139,262],[-10,-7],[-39,-36],[0,0],[-34,-22],[-9,-15],[1,-40],[-4,-2],[-24,-10],[-16,-12],[-5,-5],[-22,-5]],[[2977,108],[-3,22],[10,26],[3,15],[4,4],[-10,9],[2,12],[-10,1],[-8,8],[2,1]],[[2026,738],[-5,-9]],[[1594,437],[-28,92]],[[2977,108],[-19,-5],[-28,-2],[-5,-4],[-22,-19],[-14,-12],[-38,22],[-50,8],[-14,-4]],[[2343,848],[-17,46],[-51,-7],[-16,47]],[[590,1337],[44,0],[0,40],[109,-4],[-1,-80]],[[742,1293],[-1,-176],[-2,-49]],[[739,1068],[-40,-34],[-190,-26],[-33,112],[-6,44]],[[470,1164],[-3,2]],[[1228,807],[-6,6]],[[1222,813],[127,8],[11,-3]],[[1360,818],[-60,-51],[32,-46],[-18,-48],[38,-61],[-34,-72],[-31,-59],[-7,-17]],[[1075,488],[32,35],[4,30],[9,78],[31,28],[77,148]],[[2629,335],[-96,88],[-28,25],[-33,31]],[[3017,714],[0,-13],[1,-19],[28,5],[33,-22],[9,-54],[-4,-21],[8,-31],[18,-10],[31,-3],[13,-34],[10,-14],[14,-20],[27,-30],[18,-29],[36,-34],[7,-12],[15,-25],[-2,-1],[-25,-18],[-32,-5],[-21,-33],[-39,-11],[-23,-18]],[[0,1709],[177,0],[298,2],[39,-1]],[[514,1710],[0,-182]],[[295,1420],[-72,-7],[-223,7]],[[0,1420],[0,8],[0,137],[0,144]],[[2481,1],[-55,0],[0,0],[-3,0]],[[2423,1],[-133,182],[-24,56],[-10,27],[-73,10],[-33,45]],[[2150,321],[13,29],[11,-6],[64,39]],[[1309,1829],[99,1],[113,-1],[47,0],[79,0]],[[1654,1411],[-222,-3]],[[514,1710],[1,119]],[[515,1829],[78,0],[232,0],[44,0],[37,0]],[[885,1528],[-314,0]],[[2021,729],[17,-19],[123,43]],[[2150,321],[-20,46],[-39,20],[-8,16],[-11,4]],[[2072,407],[-15,16],[-22,34],[5,32]],[[0,1127],[148,3],[63,-12],[29,-35]],[[240,1083],[-39,-56],[1,-49],[3,-66]],[[0,909],[0,39],[0,2],[0,3],[0,65],[0,109]],[[2475,1829],[23,0],[133,0],[180,0],[39,1]],[[2850,1830],[12,-288]],[[2862,1542],[-146,1]],[[2716,1543],[-214,1],[-10,6]],[[2492,1550],[-17,279]],[[2784,1157],[23,36],[30,21]],[[2837,1214],[83,5]],[[2920,1219],[30,2],[100,8],[-15,-81],[45,-8],[28,-49],[20,11]],[[3128,1102],[-13,-26],[-31,-34],[-36,-30],[6,-12]],[[468,763],[2,401]],[[739,1068],[2,-15],[-2,-96]],[[739,957],[0,-109],[-133,-197]],[[2434,1462],[12,85],[46,3]],[[2716,1543],[-30,-110],[-35,-63]],[[240,1083],[55,82]],[[468,763],[-258,3]],[[1360,818],[98,-38],[67,42],[81,-11]],[[1503,274],[-35,34],[-118,50]],[[0,1134],[1,80],[0,81],[-1,125]],[[0,1127],[0,7]],[[1911,1063],[-111,-45],[-96,-20],[-64,102],[-68,13],[-32,60],[-53,-3],[-3,60],[-43,-39],[-17,-48],[-20,7]],[[1404,1150],[-13,17],[-18,34]],[[2072,407],[-35,-14],[8,-35],[-60,-14],[-9,-1],[-62,-62]],[[0,1812],[108,47],[99,63],[10,28],[27,19],[38,-8],[1,0],[54,36],[45,22],[47,28],[0,-112],[1,-106],[85,0]],[[0,1709],[0,103]],[[885,1528],[-2,-150],[-59,13],[-17,-90]],[[807,1301],[-7,-12],[-58,4]],[[0,238],[0,115],[1,147],[0,46],[0,62]],[[90,608],[101,-116],[152,-64],[-26,-30],[35,-17],[16,2]],[[364,327],[22,-29],[-22,-44],[-68,-42]],[[296,212],[-29,-4],[5,14],[-21,1],[-171,-3],[-69,-32],[-11,7]],[[0,195],[0,43]],[[296,212],[42,-50],[4,-161]],[[342,1],[-71,0],[-20,0],[-195,0],[-56,0],[0,194]],[[694,257],[-39,-74],[-31,-75],[35,-59],[-30,-37],[9,-11]],[[638,1],[-47,0],[-163,0],[-86,0]],[[807,1301],[69,28],[134,-91],[14,-49]],[[1024,1189],[-32,1],[-22,-57],[0,-181]],[[970,952],[-231,5]],[[3098,1512],[1,-23],[35,-63],[52,-33],[51,-20],[25,-3],[12,-1],[22,-55],[-37,-14],[-31,-35],[-29,-55],[-22,-58],[-42,-36],[-2,-4],[-5,-10]],[[2920,1219],[28,74],[-23,29],[48,4],[125,186]],[[1222,813],[-9,18],[53,78],[19,3],[46,85],[51,-2],[12,35],[-32,89],[42,31]],[[1370,2],[-138,0],[0,0],[-22,0]],[[1292,1212],[-232,19],[-36,-42]],[[1228,807],[-256,0]],[[972,807],[-3,15],[1,130]],[[2034,1831],[208,-1],[1,0],[48,-1],[6,0],[178,0]],[[828,454],[73,0],[24,-33],[128,-1]],[[968,3],[-69,-1],[-65,0],[-196,-1]],[[2862,1542],[12,-307],[-37,-21]],[[874,543],[79,213],[14,45],[5,6]],[[2423,1],[-102,0],[-85,0],[-83,0],[-40,0],[-116,-1],[-4,0]],[[2850,1830],[4,0],[66,-5],[11,-1],[28,-36],[16,-50],[41,-18],[25,-10],[19,-8],[22,-31],[11,-40],[3,-89],[2,-30]]],objects:{cb_2015_pennsylvania_county_20m:{type:"GeometryCollection",geometries:[{arcs:[[0,1,2,3,4]],type:"Polygon",properties:{STATEFP:"42",COUNTYFP:"025",COUNTYNS:"01213664",AFFGEOID:"0500000US42025",GEOID:"42025",NAME:"Carbon",LSAD:"06",ALAND:987977576,AWATER:15349904}},{arcs:[[5,6,7,8]],type:"Polygon",properties:{STATEFP:"42",COUNTYFP:"001",COUNTYNS:"01213656",AFFGEOID:"0500000US42001",GEOID:"42001",NAME:"Adams",LSAD:"06",ALAND:1343400048,AWATER:7883930}},{arcs:[[9,10,11,12,13]],type:"Polygon",properties:{STATEFP:"42",COUNTYFP:"007",COUNTYNS:"01214112",AFFGEOID:"0500000US42007",GEOID:"42007",NAME:"Beaver",LSAD:"06",ALAND:1125901160,AWATER:24165972}},{arcs:[[14,15,16]],type:"Polygon",properties:{STATEFP:"42",COUNTYFP:"093",COUNTYNS:"01213681",AFFGEOID:"0500000US42093",GEOID:"42093",NAME:"Montour",LSAD:"06",ALAND:337326238,AWATER:5407947}},{arcs:[[17,18,-5,19,20,21,22,23]],type:"Polygon",properties:{STATEFP:"42",COUNTYFP:"107",COUNTYNS:"01213685",AFFGEOID:"0500000US42107",GEOID:"42107",NAME:"Schuylkill",LSAD:"06",ALAND:2016645898,AWATER:10834897}},{arcs:[[24,25,26,27]],type:"Polygon",properties:{STATEFP:"42",COUNTYFP:"117",COUNTYNS:"01209189",AFFGEOID:"0500000US42117",GEOID:"42117",NAME:"Tioga",LSAD:"06",ALAND:2936469322,AWATER:8257078}},{arcs:[[28,29,30,31]],type:"Polygon",properties:{STATEFP:"42",COUNTYFP:"109",COUNTYNS:"01213686",AFFGEOID:"0500000US42109",GEOID:"42109",NAME:"Snyder",LSAD:"06",ALAND:851462481,AWATER:7173377}},{arcs:[[32,33,34,35,36]],type:"Polygon",properties:{STATEFP:"42",COUNTYFP:"083",COUNTYNS:"01210235",AFFGEOID:"0500000US42083",GEOID:"42083",NAME:"McKean",LSAD:"06",ALAND:2536106035,AWATER:13010718}},{arcs:[[37,38,39,40,-3]],type:"Polygon",properties:{STATEFP:"42",COUNTYFP:"095",COUNTYNS:"01209185",AFFGEOID:"0500000US42095",GEOID:"42095",NAME:"Northampton",LSAD:"06",ALAND:957444537,AWATER:20005867}},{arcs:[[41,42,43,44,45,46,47]],type:"Polygon",properties:{STATEFP:"42",COUNTYFP:"129",COUNTYNS:"01209191",AFFGEOID:"0500000US42129",GEOID:"42129",NAME:"Westmoreland",LSAD:"06",ALAND:2661370994,AWATER:22050456}},{arcs:[[-22,48,49,50]],type:"Polygon",properties:{STATEFP:"42",COUNTYFP:"075",COUNTYNS:"01214034",AFFGEOID:"0500000US42075",GEOID:"42075",NAME:"Lebanon",LSAD:"06",ALAND:937138345,AWATER:1727921}},{arcs:[[-27,51,52,53,-15,54,55,56,57]],type:"Polygon",properties:{STATEFP:"42",COUNTYFP:"081",COUNTYNS:"01213677",AFFGEOID:"0500000US42081",GEOID:"42081",NAME:"Lycoming",LSAD:"06",ALAND:3182060991,AWATER:39457017}},{arcs:[[58,59,-56,60,-29,61]],type:"Polygon",properties:{STATEFP:"42",COUNTYFP:"119",COUNTYNS:"01213689",AFFGEOID:"0500000US42119",GEOID:"42119",NAME:"Union",LSAD:"06",ALAND:818399145,AWATER:4639329}},{arcs:[[62,63,64,65,66,67]],type:"Polygon",properties:{STATEFP:"42",COUNTYFP:"121",COUNTYNS:"01213690",AFFGEOID:"0500000US42121",GEOID:"42121",NAME:"Venango",LSAD:"06",ALAND:1746387420,AWATER:22148537}},{arcs:[[68,69,70,71,-1,-19,72]],type:"Polygon",properties:{STATEFP:"42",COUNTYFP:"079",COUNTYNS:"01209183",AFFGEOID:"0500000US42079",GEOID:"42079",NAME:"Luzerne",LSAD:"06",ALAND:2305974191,AWATER:41240056}},{arcs:[[73,74,-69,75,-53]],type:"Polygon",properties:{STATEFP:"42",COUNTYFP:"113",COUNTYNS:"01213687",AFFGEOID:"0500000US42113",GEOID:"42113",NAME:"Sullivan",LSAD:"06",ALAND:1165338400,AWATER:6617028}},{arcs:[[-35,76,77,78,79]],type:"Polygon",properties:{STATEFP:"42",COUNTYFP:"023",COUNTYNS:"01213663",AFFGEOID:"0500000US42023",GEOID:"42023",NAME:"Cameron",LSAD:"06",ALAND:1026231717,AWATER:5664033}},{arcs:[[80,81,82,83,84]],type:"Polygon",properties:{STATEFP:"42",COUNTYFP:"029",COUNTYNS:"01209174",AFFGEOID:"0500000US42029",GEOID:"42029",NAME:"Chester",LSAD:"06",ALAND:1943821140,AWATER:22587331}},{arcs:[[85,86,87,88,89,90]],type:"Polygon",properties:{STATEFP:"42",COUNTYFP:"009",COUNTYNS:"01209171",AFFGEOID:"0500000US42009",GEOID:"42009",NAME:"Bedford",LSAD:"06",ALAND:2621836590,AWATER:11935889}},{arcs:[[91,92,93,94,95,-9,96]],type:"Polygon",properties:{STATEFP:"42",COUNTYFP:"055",COUNTYNS:"01213670",AFFGEOID:"0500000US42055",GEOID:"42055",NAME:"Franklin",LSAD:"06",ALAND:2000052119,AWATER:1544300}},{arcs:[[-4,-41,97,98,99,-20]],type:"Polygon",properties:{STATEFP:"42",COUNTYFP:"077",COUNTYNS:"01209182",AFFGEOID:"0500000US42077",GEOID:"42077",NAME:"Lehigh",LSAD:"06",ALAND:893983197,AWATER:7952806}},{arcs:[[100,-62,-32,101,102]],type:"Polygon",properties:{STATEFP:"42",COUNTYFP:"087",COUNTYNS:"01213679",AFFGEOID:"0500000US42087",GEOID:"42087",NAME:"Mifflin",LSAD:"06",ALAND:1064564850,AWATER:9544799}},{arcs:[[-99,103,104,105,-82,106]],type:"Polygon",properties:{STATEFP:"42",COUNTYFP:"091",COUNTYNS:"01213680",AFFGEOID:"0500000US42091",GEOID:"42091",NAME:"Montgomery",LSAD:"06",ALAND:1251046282,AWATER:10791845}},{arcs:[[107,108,109,-95]],type:"Polygon",properties:{STATEFP:"42",COUNTYFP:"099",COUNTYNS:"01213682",AFFGEOID:"0500000US42099",GEOID:"42099",NAME:"Perry",LSAD:"06",ALAND:1428233551,AWATER:10589698}},{arcs:[[-105,110,111,112]],type:"Polygon",properties:{STATEFP:"42",COUNTYFP:"101",COUNTYNS:"01209187",AFFGEOID:"0500000US42101",GEOID:"42101",NAME:"Philadelphia",LSAD:"06",ALAND:347519325,AWATER:22089787}},{arcs:[[-102,-31,113,-108,-94,114]],type:"Polygon",properties:{STATEFP:"42",COUNTYFP:"067",COUNTYNS:"01209180",AFFGEOID:"0500000US42067",GEOID:"42067",NAME:"Juniata",LSAD:"06",ALAND:1013592889,AWATER:5606074}},{arcs:[[-106,-113,115,-83]],type:"Polygon",properties:{STATEFP:"42",COUNTYFP:"045",COUNTYNS:"01209177",AFFGEOID:"0500000US42045",GEOID:"42045",NAME:"Delaware",LSAD:"06",ALAND:476226980,AWATER:17433559}},{arcs:[[-54,-76,-73,-18,116,-16]],type:"Polygon",properties:{STATEFP:"42",COUNTYFP:"037",COUNTYNS:"01213665",AFFGEOID:"0500000US42037",GEOID:"42037",NAME:"Columbia",LSAD:"06",ALAND:1251240675,AWATER:18266325}},{arcs:[[-66,117,118,119,120]],type:"Polygon",properties:{STATEFP:"42",COUNTYFP:"031",COUNTYNS:"01210234",AFFGEOID:"0500000US42031",GEOID:"42031",NAME:"Clarion",LSAD:"06",ALAND:1556153772,AWATER:23335886}},{arcs:[[121,122,123,-87,124]],type:"Polygon",properties:{STATEFP:"42",COUNTYFP:"013",COUNTYNS:"01213659",AFFGEOID:"0500000US42013",GEOID:"42013",NAME:"Blair",LSAD:"06",ALAND:1361815246,AWATER:3285511}},{arcs:[[-21,-100,-107,-81,125,-49]],type:"Polygon",properties:{STATEFP:"42",COUNTYFP:"011",COUNTYNS:"01209172",AFFGEOID:"0500000US42011",GEOID:"42011",NAME:"Berks",LSAD:"06",ALAND:2218040257,AWATER:24252061}},{arcs:[[-40,126,-111,-104,-98]],type:"Polygon",properties:{STATEFP:"42",COUNTYFP:"017",COUNTYNS:"01209173",AFFGEOID:"0500000US42017",GEOID:"42017",NAME:"Bucks",LSAD:"06",ALAND:1565316699,AWATER:45329736}},{arcs:[[127,128,-63,129,130]],type:"Polygon",properties:{STATEFP:"42",COUNTYFP:"039",COUNTYNS:"01213666",AFFGEOID:"0500000US42039",GEOID:"42039",NAME:"Crawford",LSAD:"06",ALAND:2621846809,AWATER:65303124}},{arcs:[[-50,-126,-85,131,132,133]],type:"Polygon",properties:{STATEFP:"42",COUNTYFP:"071",COUNTYNS:"01209181",AFFGEOID:"0500000US42071",GEOID:"42071",NAME:"Lancaster",LSAD:"06",ALAND:2444495031,AWATER:103535036}},{arcs:[[134,-28,-58,135,-77,-34]],type:"Polygon",properties:{STATEFP:"42",COUNTYFP:"105",COUNTYNS:"01213684",AFFGEOID:"0500000US42105",GEOID:"42105",NAME:"Potter",LSAD:"06",ALAND:2800606026,AWATER:559779}},{arcs:[[136,137,-37,138,-64,-129]],type:"Polygon",properties:{STATEFP:"42",COUNTYFP:"123",COUNTYNS:"01213691",AFFGEOID:"0500000US42123",GEOID:"42123",NAME:"Warren",LSAD:"06",ALAND:2289914221,AWATER:37352304}},{arcs:[[139,-23,-51,-134,140,141,-109]],type:"Polygon",properties:{STATEFP:"42",COUNTYFP:"043",COUNTYNS:"01213667",AFFGEOID:"0500000US42043",GEOID:"42043",NAME:"Dauphin",LSAD:"06",ALAND:1359893290,AWATER:85780784}},{arcs:[[142,143,-10,144]],type:"Polygon",properties:{STATEFP:"42",COUNTYFP:"073",COUNTYNS:"01213676",AFFGEOID:"0500000US42073",GEOID:"42073",NAME:"Lawrence",LSAD:"06",ALAND:927644464,AWATER:11783868}},{arcs:[[145,146,147,148,149]],type:"Polygon",properties:{STATEFP:"42",COUNTYFP:"115",COUNTYNS:"01213688",AFFGEOID:"0500000US42115",GEOID:"42115",NAME:"Susquehanna",LSAD:"06",ALAND:2132881571,AWATER:22356562}},{arcs:[[150,151,152,153,-38,-2,-72]],type:"Polygon",properties:{STATEFP:"42",COUNTYFP:"089",COUNTYNS:"01209184",AFFGEOID:"0500000US42089",GEOID:"42089",NAME:"Monroe",LSAD:"06",ALAND:1575560089,AWATER:23131029}},{arcs:[[154,-120,155,156,-43]],type:"Polygon",properties:{STATEFP:"42",COUNTYFP:"005",COUNTYNS:"01213658",AFFGEOID:"0500000US42005",GEOID:"42005",NAME:"Armstrong",LSAD:"06",ALAND:1691786924,AWATER:27556957}},{arcs:[[157,-149,158,-70,-75]],type:"Polygon",properties:{STATEFP:"42",COUNTYFP:"131",COUNTYNS:"01209192",AFFGEOID:"0500000US42131",GEOID:"42131",NAME:"Wyoming",LSAD:"06",ALAND:1029008281,AWATER:20034376}},{arcs:[[159,-67,-121,-155,160,-11,-144]],type:"Polygon",properties:{STATEFP:"42",COUNTYFP:"019",COUNTYNS:"01213661",AFFGEOID:"0500000US42019",GEOID:"42019",NAME:"Butler",LSAD:"06",ALAND:2042451168,AWATER:15948239}},{arcs:[[161,-103,-115,-93,162,-88,-124]],type:"Polygon",properties:{STATEFP:"42",COUNTYFP:"061",COUNTYNS:"01213672",AFFGEOID:"0500000US42061",GEOID:"42061",NAME:"Huntingdon",LSAD:"06",ALAND:2265337402,AWATER:37851955}},{arcs:[[163,-130,-68,-160,-143,164]],type:"Polygon",properties:{STATEFP:"42",COUNTYFP:"085",COUNTYNS:"01213678",AFFGEOID:"0500000US42085",GEOID:"42085",NAME:"Mercer",LSAD:"06",ALAND:1741978099,AWATER:25963051}},{arcs:[[-78,-136,-57,-60,165,166]],type:"Polygon",properties:{STATEFP:"42",COUNTYFP:"035",COUNTYNS:"01214721",AFFGEOID:"0500000US42035",GEOID:"42035",NAME:"Clinton",LSAD:"06",ALAND:2299868232,AWATER:23178794}},{arcs:[[-142,167,-6,-96,-110]],type:"Polygon",properties:{STATEFP:"42",COUNTYFP:"041",COUNTYNS:"01209176",AFFGEOID:"0500000US42041",GEOID:"42041",NAME:"Cumberland",LSAD:"06",ALAND:1412834154,AWATER:12521844}},{arcs:[[168,-137,-128,169]],type:"Polygon",properties:{STATEFP:"42",COUNTYFP:"049",COUNTYNS:"01209178",AFFGEOID:"0500000US42049",GEOID:"42049",NAME:"Erie",LSAD:"06",ALAND:2069952474,AWATER:1965847842}},{arcs:[[-30,-61,-55,-17,-117,-24,-140,-114]],type:"Polygon",properties:{STATEFP:"42",COUNTYFP:"097",COUNTYNS:"01209186",AFFGEOID:"0500000US42097",GEOID:"42097",NAME:"Northumberland",LSAD:"06",ALAND:1187166422,AWATER:49616021}},{arcs:[[-139,170,171,-118,-65]],type:"Polygon",properties:{STATEFP:"42",COUNTYFP:"053",COUNTYNS:"01213669",AFFGEOID:"0500000US42053",GEOID:"42053",NAME:"Forest",LSAD:"06",ALAND:1106625250,AWATER:8355296}},{arcs:[[172,-13,173,-48,174,175,176]],type:"Polygon",properties:{STATEFP:"42",COUNTYFP:"125",COUNTYNS:"01209190",AFFGEOID:"0500000US42125",GEOID:"42125",NAME:"Washington",LSAD:"06",ALAND:2219590654,AWATER:10147672}},{arcs:[[-176,177,178]],type:"Polygon",properties:{STATEFP:"42",COUNTYFP:"059",COUNTYNS:"01214033",AFFGEOID:"0500000US42059",GEOID:"42059",NAME:"Greene",LSAD:"06",ALAND:1491700970,AWATER:5253864}},{arcs:[[-175,-47,179,180,-178]],type:"Polygon",properties:{STATEFP:"42",COUNTYFP:"051",COUNTYNS:"01209179",AFFGEOID:"0500000US42051",GEOID:"42051",NAME:"Fayette",LSAD:"06",ALAND:2046968033,AWATER:20644021}},{arcs:[[-119,-172,181,182,183,-156]],type:"Polygon",properties:{STATEFP:"42",COUNTYFP:"065",COUNTYNS:"01213674",AFFGEOID:"0500000US42065",GEOID:"42065",NAME:"Jefferson",LSAD:"06",ALAND:1689784200,AWATER:11321806}},{arcs:[[184,-153,185]],type:"Polygon",properties:{STATEFP:"42",COUNTYFP:"103",COUNTYNS:"01213683",AFFGEOID:"0500000US42103",GEOID:"42103",NAME:"Pike",LSAD:"06",ALAND:1411441327,AWATER:56692145}},{arcs:[[-166,-59,-101,-162,-123,186]],type:"Polygon",properties:{STATEFP:"42",COUNTYFP:"027",COUNTYNS:"01214720",AFFGEOID:"0500000US42027",GEOID:"42027",NAME:"Centre",LSAD:"06",ALAND:2874687362,AWATER:7878513}},{arcs:[[-89,-163,-92,187]],type:"Polygon",properties:{STATEFP:"42",COUNTYFP:"057",COUNTYNS:"01213671",AFFGEOID:"0500000US42057",GEOID:"42057",NAME:"Fulton",LSAD:"06",ALAND:1133252800,AWATER:1305486}},{arcs:[[-36,-80,188,-182,-171]],type:"Polygon",properties:{STATEFP:"42",COUNTYFP:"047",COUNTYNS:"01213668",AFFGEOID:"0500000US42047",GEOID:"42047",NAME:"Elk",LSAD:"06",ALAND:2142861754,AWATER:12818644}},{arcs:[[-183,-189,-79,-167,-187,-122,189,190]],type:"Polygon",properties:{STATEFP:"42",COUNTYFP:"033",COUNTYNS:"01209175",AFFGEOID:"0500000US42033",GEOID:"42033",NAME:"Clearfield",LSAD:"06",ALAND:2964817439,AWATER:23932649}},{arcs:[[191,-150,-158,-74,-52,-26]],type:"Polygon",properties:{STATEFP:"42",COUNTYFP:"015",COUNTYNS:"01213660",AFFGEOID:"0500000US42015",GEOID:"42015",NAME:"Bradford",LSAD:"06",ALAND:2971750796,AWATER:35275587}},{arcs:[[-46,192,-91,193,-180]],type:"Polygon",properties:{STATEFP:"42",COUNTYFP:"111",COUNTYNS:"01209188",AFFGEOID:"0500000US42111",GEOID:"42111",NAME:"Somerset",LSAD:"06",ALAND:2782597179,AWATER:17002814}},{arcs:[[-159,-148,194,-151,-71]],type:"Polygon",properties:{STATEFP:"42",COUNTYFP:"069",COUNTYNS:"01213675",AFFGEOID:"0500000US42069",GEOID:"42069",NAME:"Lackawanna",LSAD:"06",ALAND:1188215428,AWATER:15896171}},{arcs:[[-161,-42,-174,-12]],type:"Polygon",properties:{STATEFP:"42",COUNTYFP:"003",COUNTYNS:"01213657",AFFGEOID:"0500000US42003",GEOID:"42003",NAME:"Allegheny",LSAD:"06",ALAND:1890889518,AWATER:37411670}},{arcs:[[195,-190,-125,-86,-193,-45]],type:"Polygon",properties:{STATEFP:"42",COUNTYFP:"021",COUNTYNS:"01213662",AFFGEOID:"0500000US42021",GEOID:"42021",NAME:"Cambria",LSAD:"06",ALAND:1782823041,AWATER:13677375}},{arcs:[[-141,-133,196,-7,-168]],type:"Polygon",properties:{STATEFP:"42",COUNTYFP:"133",COUNTYNS:"01209193",AFFGEOID:"0500000US42133",GEOID:"42133",NAME:"York",LSAD:"06",ALAND:2341884216,AWATER:16941833}},{arcs:[[-157,-184,-191,-196,-44]],type:"Polygon",properties:{STATEFP:"42",COUNTYFP:"063",COUNTYNS:"01213673",AFFGEOID:"0500000US42063",GEOID:"42063",NAME:"Indiana",LSAD:"06",ALAND:2141999553,AWATER:18812180}},{arcs:[[-147,197,-186,-152,-195]],type:"Polygon",properties:{STATEFP:"42",COUNTYFP:"127",COUNTYNS:"01213692",AFFGEOID:"0500000US42127",GEOID:"42127",NAME:"Wayne",LSAD:"06",ALAND:1879307105,AWATER:64774622}}]}}},Fi=window.tippy;function Di(t){return t instanceof Element||t instanceof HTMLDocument||t&&[1,3].includes(t.nodeType)}function Ci(t){return!!(t&&t.constructor&&t.call&&t.apply)}function Pi(t,e,n){const r=document.createElement("table");r.className="tooltip-table";const[a,i]=t?function(t,e){const n=document.createElement("thead"),r=document.createElement("tbody");return t.forEach((t=>{const a=document.createElement("tr"),i=document.createElement(t.isColumnHeader?"th":"td");i.className=t.isColumnHeader?"col-header":"row-header";const o=Ci(t.rowHeader)?t.rowHeader(e):t.rowHeader,l=Di(o)?o:document.createTextNode(o||"");i.appendChild(l),a.appendChild(i),e.forEach(((e,n)=>{const r=document.createElement(t.isColumnHeader?"th":"td");r.className=t.isColumnHeader?"col-header":"";const i=e[t.dataKey],o=t.render?Ci(t.render)?t.render(i,e,n):t.render:i,l=Di(o)?o:document.createTextNode(o);r.appendChild(l),a.appendChild(r)})),t.isColumnHeader?n.appendChild(a):r.appendChild(a)})),[n,r]}(t,n):function(t,e){const n=document.createElement("thead"),r=document.createElement("tbody"),a=document.createElement("tr");return t.forEach((({columnHeader:t})=>{const n=document.createElement("th");n.className="col-header";const r=Ci(t)?t(e):t,i=Di(r)?r:document.createTextNode(r||"");n.appendChild(i),a.appendChild(n)})),n.appendChild(a),e.forEach(((e,n)=>{const a=document.createElement("tr");t.forEach((t=>{const r=document.createElement("td");t.isRowHeader&&(r.className="row-header");const i=e[t.dataKey],o=t.render?Ci(t.render)?t.render(i,e,n):t.render:i,l=Di(o)?o:document.createTextNode(o);r.appendChild(l),a.appendChild(r)})),r.appendChild(a)})),[n,r]}(e,n);return r.appendChild(a),r.appendChild(i),r}function xi(t,e,n,r){const a=document.createElement("div");if(a.className="tooltip-content",t){const e=document.createElement("div"),n=Di(t)?t:document.createElement("h4").appendChild(document.createTextNode(t));e.className="tooltip-title",e.appendChild(n),a.appendChild(e)}if((e||n)&&r){const t=Pi(e,n,r);a.appendChild(t)}return()=>a.cloneNode(!0)}Fi.setDefaultProps({arrow:!1,placement:"right",delay:0,duration:0,flip:!1,popperOptions:{modifiers:{preventOverflow:{enabled:!0,padding:4}}}});const Ui="data-county-name",Li="data-bucket";class ki{constructor(t,e,n,r,a,i,o,l="",s=30){this.colorDomain=e,this.labels=n,this.color=r,this.averages=a,this.title=l,this.onMouseOver=i,this.onMouseOut=o,this.sectionWidth=50,this.sectionHeight=10,this.offsetX=5,this.offsetY=s,this.labelOffsetX=this.offsetX-4,this.labelOffsetY=this.offsetY+22,this.legendWidth=this.sectionWidth*this.colorDomain.length;const u=this.legendWidth+20,c=this.sectionHeight+this.labelOffsetY+10;this.svg=Ft(`#${t} .color-scale-legend`).append("svg").attr("viewBox",`0 0 ${u} ${c}`)}highlightBars(t){this.svg.selectAll(".legend-bar").style("opacity","0.2"),this.svg.selectAll(".legend-text").style("opacity","0.4"),t.forEach((t=>{this.svg.selectAll(`.legend-bar[data-bucket="${t}"]`).style("opacity","1"),this.svg.selectAll(`.legend-text[data-bucket*="${t}"]`).style("opacity","1")}))}resetHighlight(){this.svg.selectAll(".legend-bar").style("opacity","1"),this.svg.selectAll(".legend-text").style("opacity","1")}render(){const t=this.svg.selectAll("g").data(this.labels.slice(0,this.labels.length-1)).enter().append("g").attr("data-label",(t=>t));t.append("rect").attr("class","legend-bar").attr("x",((t,e)=>this.offsetX+e*this.sectionWidth)).attr("y",this.offsetY).attr("width",this.sectionWidth).attr("height",this.sectionHeight).attr(Li,((t,e)=>this.labels[e+1])).style("fill",(t=>this.color(t))).on("mouseover",(t=>{this.onMouseOver(t)})).on("mouseout",(()=>{this.onMouseOut()}));const e="legend-text";t.append("text").attr("x",((t,e)=>this.labelOffsetX+e*this.sectionWidth)).attr("y",this.labelOffsetY).attr("class",e).attr(Li,(t=>{const e=this.color(t),[n,r]=this.color.invertExtent(e);return`${n}-${r}`})).text(((t,e)=>`${this.labels[e]}`)),this.svg.select(`g[data-label="${this.labels[this.labels.length-2]}"]`).append("text").attr("x",this.labelOffsetX+(this.labels.length-1)*this.sectionWidth).attr("y",this.labelOffsetY).attr("class",e).attr(Li,this.labels[this.labels.length-1]).text(this.labels[this.labels.length-1]);const n=this.colorDomain[this.colorDomain.length-1];this.averages.forEach((t=>{const r=this.offsetX+this.legendWidth*t.value/n;this.svg.append("line").attr("x1",r).attr("x2",r).attr("y1",this.offsetY+10).attr("y2",this.offsetY-5).attr("class","legend-avg-line"),this.svg.append("text").attr("x",r-10).attr("y",this.offsetY-20).attr("class",e).text(t.label),this.svg.append("text").attr("x",r-10).attr("y",this.offsetY-10).attr("class",e).text(`${t.value}%`),this.svg.append("text").attr("x",this.legendWidth/2-25).attr("y",this.offsetY+40).attr("class",e).text(this.title)}))}}class Yi{constructor(t,e,n,r){this.title=e,this.values=n,this.getSpike=r,this.spikeOffsetY=110,this.spikeOffsetX=25,this.spikeSpacingX=30;const a=this.spikeOffsetY+25;this.svg=Ft(`#${t} .spike-legend`).append("svg").attr("viewBox",`0 0 125 ${a}`)}render(){this.svg.append("g").selectAll("path").data(this.values).enter().append("path").attr("d",this.getSpike).attr("transform",((t,e)=>`translate(${e*this.spikeSpacingX+this.spikeOffsetX}, ${this.spikeOffsetY})`)).attr("fill","#404040").attr("stroke","#1a1a1a").attr("opacity",1),this.svg.append("g").selectAll("path").data(this.values).join("text").attr("x",((t,e)=>e*this.spikeSpacingX+this.spikeOffsetX/2)).attr("y",((t,e)=>30*(this.values.length-e-1)+15)).attr("class","legend-text").text((t=>t)),this.svg.append("text").attr("x",10).attr("y",this.spikeOffsetY+20).attr("class","legend-text").text(this.title)}}class Ii{constructor(t,e={}){this.svg=Ft(t).append("svg").attr("viewBox","0 0 600 400"),this.projection=Xa().scale(5500).center([-75.75,40.5]),this.renderTooltip=function(t){const{rows:e,columns:n,...r}=t;return function(t,a,i,o={}){const l={...r,...o,content:o.content||r.content||xi(i,e,n,a)};return Fi(t,l)}}({...e,trigger:"manual",placement:"top"})}renderCity(t,e,n){this.svg.append("circle").attr("transform",`translate(${this.projection(e)})`).attr("r",4).attr("fill","white"),this.svg.append("text").attr("transform",`translate(${this.projection(n)})`).attr("class","city-label").text(t)}renderCities(){this.renderCity("Philadelphia",[-75.4,39.9],[-75.75,40]),this.renderCity("Harrisburg",[-76.9,40.3],[-77.15,40.375]),this.renderCity("Pittsburgh",[-80,40.44],[-80.25,40.3])}renderPA(t,e){return this.svg.append("g").attr("class","county").selectAll("path").data(t).enter().append("path").attr("d",e).attr("class","county-path").attr(Ui,(t=>t.properties.NAME)).on("mouseenter focus",this.onMouseEnter.bind(this)).on("mouseout",this.onMouseOut.bind(this))}onMouseEnter(t){this.showTooltip(t.srcElement,{})}onMouseOut(){this.hideTooltip()}showTooltip(t,e){this.tooltip=this.renderTooltip(t,e),this.tooltip.show()}hideTooltip(){this.tooltip&&(this.tooltip.hide(),this.tooltip.destroy())}render(){const t=function(t,e){var n,r,a=4.5;function i(t){return t&&("function"==typeof a&&r.pointRadius(+a.apply(this,arguments)),Hn(t,n(r))),r.result()}return i.area=function(t){return Hn(t,n(gr)),gr.result()},i.measure=function(t){return Hn(t,n(ra)),ra.result()},i.bounds=function(t){return Hn(t,n(_r)),_r.result()},i.centroid=function(t){return Hn(t,n($r)),$r.result()},i.projection=function(e){return arguments.length?(n=null==e?(t=null,Gn):(t=e).stream,i):t},i.context=function(t){return arguments.length?(r=null==t?(e=null,new oa):new Vr(e=t),"function"!=typeof a&&r.pointRadius(a),i):e},i.pointRadius=function(t){return arguments.length?(a="function"==typeof t?t:(r.pointRadius(+t),+t),i):a},i.projection(t).context(e)}().projection(this.projection),e=JSON.parse(JSON.stringify(Oi)),n=wi(e,e.objects.cb_2015_pennsylvania_county_20m).features;this.renderPA(n,t)}}class Gi extends Ii{constructor(t,e,n){super(`#${t} .map`,{rows:[{rowHeader:"",isColumnHeader:!0,dataKey:"name"},{rowHeader:"Cash Bail Rate",dataKey:"x",render:t=>`${t.toFixed(1)}%`}]}),this.id=t,this.data=e;const r=[10,20,30,40,50,60];this.color=Ni().domain(r).range(["#182935","#215f5d","#1b9b88","#0fc59b","#0fda92","#00ed89"]);const a=t=>{this.highlightBar(t.srcElement),this.highlightMap(t.srcElement)},i=()=>this.resetHighlight();a.bind(this),i.bind(this),this.legend=new ki(t,r,[0,10,20,30,40,50,60],this.color,[{value:n,label:"Avg:"}],a,i),this.render()}onMouseEnter(t){super.onMouseEnter(t),Ft(t.srcElement).style("stroke-width","2px"),this.highlightBar(t.srcElement)}onMouseOut(t){super.onMouseOut(),Ft(t.srcElement).style("stroke-width","0.5px"),this.resetHighlight()}showTooltip(t){const e=t.getAttribute(Ui),n=Number(t.getAttribute("data-rate"));super.showTooltip(t,[{name:e,x:n}])}highlightBar(t){const e=Number(t.getAttribute(Li));this.legend.highlightBars([e])}highlightMap(t){const e=t.getAttribute(Li);this.svg.selectAll(`path:not([data-bucket="${e}"])`).style("opacity","0.2")}resetHighlight(){this.legend.resetHighlight(),this.svg.selectAll("path").style("opacity","1")}renderPA(t,e){this.data.forEach((e=>{const n=e.data[0],r=e.data[2],a=t.find((t=>t.properties.NAME===n));a.properties.rate=r,a.properties.color=this.color(r),a.properties.bucket=this.color.invertExtent(a.properties.color)[1]}));super.renderPA(t,e).style("fill",(t=>t.properties.color)).attr(Li,(t=>t.properties.bucket)).attr("data-rate",(t=>t.properties.rate)),this.legend.render(),this.renderCities()}}class $i extends Ii{constructor(t,e,n,r,a,i){super(t,{rows:[{rowHeader:"",isColumnHeader:!0,dataKey:"name"},{rowHeader:"Cash Bail Rate",dataKey:"x",render:t=>`${t.toFixed(1)}%`}]}),this.data=e,this.dataIdx=r,this.race=a,this.parent=i,this.color=n,this.countyNameToBucket={}}_onMouseEnter(t){const e=document.querySelector(`path[data-county-name="${t}"][data-race="${this.race}"]`),n=Number(e.getAttribute("data-rate"));this.svg.selectAll(`path[data-county-name="${t}"]`).style("stroke-width","2px"),super.showTooltip(e,[{name:t,x:n}])}_onMouseOut(t){super.onMouseOut(),this.svg.selectAll(`path[data-county-name="${t}"]`).style("stroke-width","0.5px")}highlightMap(t){this.svg.selectAll(`path:not([data-bucket="${t}"])`).style("opacity","0.2")}resetHighlight(){this.svg.selectAll("rect").style("opacity","1"),this.svg.selectAll("text").style("opacity","1"),this.svg.selectAll("path").style("opacity","1")}onMouseEnter(t){this.parent.onChildMouseEnter(t)}onMouseOut(t){this.parent.onChildMouseOut(t)}getBucket(t){return Number(this.countyNameToBucket[t])}renderPA(t,e){this.data.forEach((e=>{const n=e.data[0],r=e.data[this.dataIdx],a=t.find((t=>t.properties.NAME===n));a.properties.rate=r,a.properties.color=this.color(r),e.outlier&&(a.properties.color="#303030"),a.properties.bucket=this.color.invertExtent(a.properties.color)[1],this.countyNameToBucket[n]=a.properties.bucket}));super.renderPA(t,e).style("fill",(t=>t.properties.color)).attr(Li,(t=>t.properties.bucket)).attr("data-rate",(t=>t.properties.rate)).attr("data-race",(()=>this.race)),this.renderCities()}}const Wi=new Gi("cash-bail-rate",[{data:["Adams",{type:"bar",values:[30.18867925]},30.18867925,775,2537],outlier:!1},{data:["Allegheny",{type:"bar",values:[43.50802205]},43.50802205,13884,31723],outlier:!1},{data:["Armstrong",{type:"bar",values:[41.05888709]},41.05888709,742,1808],outlier:!1},{data:["Beaver",{type:"bar",values:[49.05179283]},49.05179283,4959,5967],outlier:!1},{data:["Bedford",{type:"bar",values:[38.63636364]},38.63636364,563,1460],outlier:!1},{data:["Berks",{type:"bar",values:[50.92425977]},50.92425977,6036,11688],outlier:!1},{data:["Blair",{type:"bar",values:[34.04638145]},34.04638145,1674,4826],outlier:!1},{data:["Bradford",{type:"bar",values:[45.49865229]},45.49865229,824,1805],outlier:!1},{data:["Bucks",{type:"bar",values:[32.41325938]},32.41325938,4959,15185],outlier:!1},{data:["Butler",{type:"bar",values:[31.15234375]},31.15234375,626,2017],outlier:!1},{data:["Cambria",{type:"bar",values:[44.29388101]},44.29388101,2059,4613],outlier:!1},{data:["Cameron",{type:"bar",values:[21.67832168]},21.67832168,30,112],outlier:!1},{data:["Carbon",{type:"bar",values:[32.99299883]},32.99299883,1098,3307],outlier:!1},{data:["Centre",{type:"bar",values:[26.08333333]},26.08333333,871,3370],outlier:!1},{data:["Chester",{type:"bar",values:[38.0970325]},38.0970325,3968,10351],outlier:!1},{data:["Clarion",{type:"bar",values:[40]},40,487,1193],outlier:!1},{data:["Clearfield",{type:"bar",values:[36.28318584]},36.28318584,734,2002],outlier:!1},{data:["Clinton",{type:"bar",values:[36.92628651]},36.92628651,527,1421],outlier:!1},{data:["Columbia",{type:"bar",values:[38.18897638]},38.18897638,667,1722],outlier:!1},{data:["Crawford",{type:"bar",values:[28.8973384]},28.8973384,225,768],outlier:!1},{data:["Cumberland",{type:"bar",values:[38.5278224]},38.5278224,2593,6732],outlier:!1},{data:["Dauphin",{type:"bar",values:[42.44132779]},42.44132779,5850,13585],outlier:!1},{data:["Delaware",{type:"bar",values:[55.68060922]},55.68060922,9514,16808],outlier:!1},{data:["Elk",{type:"bar",values:[28.62318841]},28.62318841,229,799],outlier:!1},{data:["Erie",{type:"bar",values:[43.95330739]},43.95330739,2750,6198],outlier:!1},{data:["Fayette",{type:"bar",values:[44.27074081]},44.27074081,2463,5546],outlier:!1},{data:["Forest",{type:"bar",values:[34.75609756]},34.75609756,50,123],outlier:!1},{data:["Franklin",{type:"bar",values:[37.47902685]},37.47902685,1772,4681],outlier:!1},{data:["Fulton",{type:"bar",values:[28.67298578]},28.67298578,113,383],outlier:!1},{data:["Greene",{type:"bar",values:[37.44343891]},37.44343891,324,834],outlier:!1},{data:["Huntingdon",{type:"bar",values:[38.96907216]},38.96907216,552,1353],outlier:!1},{data:["Indiana",{type:"bar",values:[35.01070664]},35.01070664,322,922],outlier:!1},{data:["Jefferson",{type:"bar",values:[38.55721393]},38.55721393,460,1166],outlier:!1},{data:["Juniata",{type:"bar",values:[34.46215139]},34.46215139,168,455],outlier:!1},{data:["Lackawanna",{type:"bar",values:[52.63500325]},52.63500325,3052,5783],outlier:!1},{data:["Lancaster",{type:"bar",values:[44.93240475]},44.93240475,5430,11977],outlier:!1},{data:["Lawrence",{type:"bar",values:[48.92407633]},48.92407633,1182,2398],outlier:!1},{data:["Lebanon",{type:"bar",values:[38.70437956]},38.70437956,2085,5329],outlier:!1},{data:["Lehigh",{type:"bar",values:[54.88215488]},54.88215488,6526,11845],outlier:!1},{data:["Luzerne",{type:"bar",values:[38.28885249]},38.28885249,3828,9950],outlier:!1},{data:["Lycoming",{type:"bar",values:[34.68169761]},34.68169761,1557,4475],outlier:!1},{data:["McKean",{type:"bar",values:[42.38134888]},42.38134888,488,1147],outlier:!1},{data:["Mercer",{type:"bar",values:[36.12542955]},36.12542955,1653,4571],outlier:!1},{data:["Mifflin",{type:"bar",values:[48.49498328]},48.49498328,721,1477],outlier:!1},{data:["Monroe",{type:"bar",values:[32.79661017]},32.79661017,1910,5757],outlier:!1},{data:["Montgomery",{type:"bar",values:[33.63556165]},33.63556165,6723,19702],outlier:!1},{data:["Montour",{type:"bar",values:[35.19163763]},35.19163763,100,275],outlier:!1},{data:["Northampton",{type:"bar",values:[45.83529967]},45.83529967,3804,8234],outlier:!1},{data:["Northumberland",{type:"bar",values:[36]},36,869,2414],outlier:!1},{data:["Perry",{type:"bar",values:[28.98148148]},28.98148148,305,1064],outlier:!1},{data:["Philadelphia",{type:"bar",values:[50.12216352]},50.12216352,32072,63180],outlier:!1},{data:["Pike",{type:"bar",values:[34.16738568]},34.16738568,382,1109],outlier:!1},{data:["Potter",{type:"bar",values:[23.36601307]},23.36601307,142,593],outlier:!1},{data:["Schuylkill",{type:"bar",values:[37.74187822]},37.74187822,2100,5531],outlier:!1},{data:["Snyder",{type:"bar",values:[35.92870544]},35.92870544,381,1060],outlier:!1},{data:["Somerset",{type:"bar",values:[25]},25,498,1962],outlier:!1},{data:["Sullivan",{type:"bar",values:[36.44859813]},36.44859813,36,103],outlier:!1},{data:["Susquehanna",{type:"bar",values:[40.32663317]},40.32663317,317,783],outlier:!1},{data:["Tioga",{type:"bar",values:[36.38603696]},36.38603696,868,2385],outlier:!1},{data:["Union",{type:"bar",values:[25.36136662]},25.36136662,186,743],outlier:!1},{data:["Venango",{type:"bar",values:[37.84477229]},37.84477229,586,1549],outlier:!1},{data:["Warren",{type:"bar",values:[40.61393152]},40.61393152,338,831],outlier:!1},{data:["Washington",{type:"bar",values:[38.93688681]},38.93688681,2596,6615],outlier:!1},{data:["Wayne",{type:"bar",values:[37.20349563]},37.20349563,286,779],outlier:!1},{data:["Westmoreland",{type:"bar",values:[31.71662559]},31.71662559,3840,11934],outlier:!1},{data:["Wyoming",{type:"bar",values:[35.68118628]},35.68118628,377,1056],outlier:!1},{data:["York",{type:"bar",values:[44.27380952]},44.27380952,7356,16539],outlier:!1}],42.6),Ri=new Gi("ror-rate",[{data:["Adams",{type:"bar",values:[24.8748556]},24.8748556,631,2537],outlier:!1},{data:["Allegheny",{type:"bar",values:[29.55770303]},29.55770303,9377,31723],outlier:!1},{data:["Armstrong",{type:"bar",values:[43.273906]},43.273906,782,1808],outlier:!1},{data:["Beaver",{type:"bar",values:[35.80876494]},35.80876494,2137,5967],outlier:!1},{data:["Bedford",{type:"bar",values:[1.804812834]},1.804812834,26,1460],outlier:!1},{data:["Berks",{type:"bar",values:[15.21347947]},15.21347947,1778,11688],outlier:!1},{data:["Blair",{type:"bar",values:[.3598560576]},.3598560576,17,4826],outlier:!1},{data:["Bradford",{type:"bar",values:[11.53638814]},11.53638814,208,1805],outlier:!1},{data:["Bucks",{type:"bar",values:[17.70282471]},17.70282471,2688,15185],outlier:!1},{data:["Butler",{type:"bar",values:[57.27539063]},57.27539063,1155,2017],outlier:!1},{data:["Cambria",{type:"bar",values:[21.61761592]},21.61761592,997,4613],outlier:!1},{data:["Cameron",{type:"bar",values:[0]},0,0,112],outlier:!0},{data:["Carbon",{type:"bar",values:[13.12718786]},13.12718786,434,3307],outlier:!1},{data:["Centre",{type:"bar",values:[61.55555556]},61.55555556,2074,3370],outlier:!1},{data:["Chester",{type:"bar",values:[20.7253886]},20.7253886,2145,10351],outlier:!1},{data:["Clarion",{type:"bar",values:[25.70281124]},25.70281124,307,1193],outlier:!1},{data:["Clearfield",{type:"bar",values:[.09832841691]},.09832841691,2,2002],outlier:!1},{data:["Clinton",{type:"bar",values:[11.40472879]},11.40472879,162,1421],outlier:!1},{data:["Columbia",{type:"bar",values:[19.6287964]},19.6287964,338,1722],outlier:!1},{data:["Crawford",{type:"bar",values:[53.99239544]},53.99239544,415,768],outlier:!1},{data:["Cumberland",{type:"bar",values:[41.36118008]},41.36118008,2784,6732],outlier:!1},{data:["Dauphin",{type:"bar",values:[18.47205582]},18.47205582,2509,13585],outlier:!1},{data:["Delaware",{type:"bar",values:[.1063889356]},.1063889356,18,16808],outlier:!1},{data:["Elk",{type:"bar",values:[0]},0,0,799],outlier:!0},{data:["Erie",{type:"bar",values:[36.48249027]},36.48249027,2261,6198],outlier:!1},{data:["Fayette",{type:"bar",values:[.7816663706]},.7816663706,43,5546],outlier:!1},{data:["Forest",{type:"bar",values:[12.80487805]},12.80487805,16,123],outlier:!0},{data:["Franklin",{type:"bar",values:[50.02097315]},50.02097315,2341,4681],outlier:!1},{data:["Fulton",{type:"bar",values:[51.42180095]},51.42180095,197,383],outlier:!1},{data:["Greene",{type:"bar",values:[26.58371041]},26.58371041,222,834],outlier:!1},{data:["Huntingdon",{type:"bar",values:[29.07216495]},29.07216495,393,1353],outlier:!1},{data:["Indiana",{type:"bar",values:[30.72805139]},30.72805139,283,922],outlier:!1},{data:["Jefferson",{type:"bar",values:[.08291873964]},.08291873964,1,1166],outlier:!1},{data:["Juniata",{type:"bar",values:[18.92430279]},18.92430279,86,455],outlier:!0},{data:["Lackawanna",{type:"bar",values:[1.805465192]},1.805465192,104,5783],outlier:!1},{data:["Lancaster",{type:"bar",values:[15.22326915]},15.22326915,1823,11977],outlier:!1},{data:["Lawrence",{type:"bar",values:[24.68534308]},24.68534308,592,2398],outlier:!1},{data:["Lebanon",{type:"bar",values:[3.52189781]},3.52189781,188,5329],outlier:!1},{data:["Lehigh",{type:"bar",values:[8.111417202]},8.111417202,961,11845],outlier:!1},{data:["Luzerne",{type:"bar",values:[29.28027748]},29.28027748,2913,9950],outlier:!1},{data:["Lycoming",{type:"bar",values:[.3315649867]},.3315649867,15,4475],outlier:!1},{data:["McKean",{type:"bar",values:[4.912572856]},4.912572856,56,1147],outlier:!1},{data:["Mercer",{type:"bar",values:[11.8556701]},11.8556701,542,4571],outlier:!1},{data:["Mifflin",{type:"bar",values:[.4682274247]},.4682274247,7,1477],outlier:!1},{data:["Monroe",{type:"bar",values:[17.01694915]},17.01694915,980,5757],outlier:!1},{data:["Montgomery",{type:"bar",values:[14.69809841]},14.69809841,2896,19702],outlier:!1},{data:["Montour",{type:"bar",values:[39.02439024]},39.02439024,107,275],outlier:!0},{data:["Northampton",{type:"bar",values:[15.20764512]},15.20764512,1252,8234],outlier:!1},{data:["Northumberland",{type:"bar",values:[11.87628866]},11.87628866,287,2414],outlier:!1},{data:["Perry",{type:"bar",values:[41.48148148]},41.48148148,441,1064],outlier:!1},{data:["Philadelphia",{type:"bar",values:[36.20163088]},36.20163088,22872,63180],outlier:!1},{data:["Pike",{type:"bar",values:[31.06125971]},31.06125971,344,1109],outlier:!1},{data:["Potter",{type:"bar",values:[16.50326797]},16.50326797,98,593],outlier:!0},{data:["Schuylkill",{type:"bar",values:[10.6870229]},10.6870229,591,5531],outlier:!1},{data:["Snyder",{type:"bar",values:[6.472795497]},6.472795497,69,1060],outlier:!1},{data:["Somerset",{type:"bar",values:[4.640718563]},4.640718563,91,1962],outlier:!1},{data:["Sullivan",{type:"bar",values:[1.869158879]},1.869158879,2,103],outlier:!0},{data:["Susquehanna",{type:"bar",values:[25.50251256]},25.50251256,200,783],outlier:!0},{data:["Tioga",{type:"bar",values:[13.05954825]},13.05954825,311,2385],outlier:!1},{data:["Union",{type:"bar",values:[47.70039422]},47.70039422,354,743],outlier:!1},{data:["Venango",{type:"bar",values:[.1282873637]},.1282873637,2,1549],outlier:!1},{data:["Warren",{type:"bar",values:[42.03069658]},42.03069658,349,831],outlier:!0},{data:["Washington",{type:"bar",values:[25.6113633]},25.6113633,1694,6615],outlier:!1},{data:["Wayne",{type:"bar",values:[34.58177278]},34.58177278,269,779],outlier:!1},{data:["Westmoreland",{type:"bar",values:[32.92518089]},32.92518089,3929,11934],outlier:!1},{data:["Wyoming",{type:"bar",values:[.1853568119]},.1853568119,2,1056],outlier:!0},{data:["York",{type:"bar",values:[33.30952381]},33.30952381,5509,16539],outlier:!1}],22.7),Bi=document.getElementById("rate-container");new class{constructor(t,e,n){this.leftMap=t,this.rightMap=e,this.container=n,this.rightSwitch=n.getElementsByClassName("switch-container")[0].getElementsByClassName("right")[0],this.rightSwitch.addEventListener("click",this.showRightTable.bind(this)),this.leftSwitch=n.getElementsByClassName("switch-container")[0].getElementsByClassName("left")[0],this.leftSwitch.addEventListener("click",this.showLeftTable.bind(this)),this.showLeftTable()}showLeftTable(){const t=document.getElementById(this.leftMap.id),e=document.getElementById(this.rightMap.id);t.style.display="block",e.style.display="none",this.leftSwitch.classList.add("showing"),this.rightSwitch.classList.remove("showing")}showRightTable(){const t=document.getElementById(this.leftMap.id),e=document.getElementById(this.rightMap.id);t.style.display="none",e.style.display="block",this.leftSwitch.classList.remove("showing"),this.rightSwitch.classList.add("showing")}}(Wi,Ri,Bi),new class{constructor(t,e,n,r){const a=[20,40,60,80,100],i=Ni().domain(a).range(["#CC2FFF","#B08CF0","#7AC7DF","#5DDAB5","#00ED89"]);this.black=new $i(`#${t} #black.map`,e,i,2,"black",this),this.white=new $i(`#${t} #white.map`,e,i,3,"white",this);const o=t=>{this.highlightBarFromLegend(t.srcElement),this.highlightMap(t.srcElement)},l=()=>this.resetHighlight();o.bind(this),l.bind(this),this.legend=new ki(t,a,[0,20,40,60,80,100],i,[{value:n,label:"White:"},{value:r,label:"Black:"}],o,l),this.render()}onChildMouseEnter(t){const e=t.srcElement.getAttribute(Ui);this.black._onMouseEnter(e),this.white._onMouseEnter(e),this.highlightBarFromMap(t.srcElement)}onChildMouseOut(t){const e=t.srcElement.getAttribute(Ui);this.black._onMouseOut(e),this.white._onMouseOut(e),this.resetHighlight()}highlightBarFromLegend(t){const e=t.getAttribute(Li);this.legend.highlightBars([e])}highlightBarFromMap(t){const e=t.getAttribute(Ui),n=[this.black.getBucket(e),this.white.getBucket(e)];this.legend.highlightBars(n)}highlightMap(t){const e=t.getAttribute(Li);this.black.highlightMap(e),this.white.highlightMap(e)}resetHighlight(){this.black.resetHighlight(),this.white.resetHighlight(),this.legend.resetHighlight()}render(){this.legend.render(),this.black.render(),this.white.render()}}("race-rate",[{data:["Cameron",{type:"line",values:[100,25.45454545]},100,25.45454545,{type:"styled",className:"positive-diff",value:"+74.5"}],outlier:!0},{data:["Forest",{type:"line",values:[85,32.03883495]},85,32.03883495,{type:"styled",className:"positive-diff",value:"+53"}],outlier:!0},{data:["Potter",{type:"line",values:[75,23.24786325]},75,23.24786325,{type:"styled",className:"positive-diff",value:"+51.8"}],outlier:!0},{data:["Somerset",{type:"line",values:[69.56521739,23.20855615]},69.56521739,23.20855615,{type:"styled",className:"positive-diff",value:"+46.4"}],outlier:!1},{data:["Jefferson",{type:"line",values:[72.97297297,38.35252436]},72.97297297,38.35252436,{type:"styled",className:"positive-diff",value:"+34.6"}],outlier:!1},{data:["Warren",{type:"line",values:[70,39.95067818]},70,39.95067818,{type:"styled",className:"positive-diff",value:"+30"}],outlier:!0},{data:["Sullivan",{type:"line",values:[62.5,32.63157895]},62.5,32.63157895,{type:"styled",className:"positive-diff",value:"+29.9"}],outlier:!0},{data:["Wayne",{type:"line",values:[64.86486486,35.30997305]},64.86486486,35.30997305,{type:"styled",className:"positive-diff",value:"+29.6"}],outlier:!1},{data:["Blair",{type:"line",values:[58.6998088,31.76853358]},58.6998088,31.76853358,{type:"styled",className:"positive-diff",value:"+26.9"}],outlier:!1},{data:["Lycoming",{type:"line",values:[55.01355014,28.14726841]},55.01355014,28.14726841,{type:"styled",className:"positive-diff",value:"+26.9"}],outlier:!1},{data:["Susquehanna",{type:"line",values:[66.66666667,39.76377953]},66.66666667,39.76377953,{type:"styled",className:"positive-diff",value:"+26.9"}],outlier:!0},{data:["Erie",{type:"line",values:[63.73239437,37.02714731]},63.73239437,37.02714731,{type:"styled",className:"positive-diff",value:"+26.7"}],outlier:!1},{data:["Cambria",{type:"line",values:[65.52083333,39.14590747]},65.52083333,39.14590747,{type:"styled",className:"positive-diff",value:"+26.4"}],outlier:!1},{data:["Huntingdon",{type:"line",values:[64.05228758,37.83333333]},64.05228758,37.83333333,{type:"styled",className:"positive-diff",value:"+26.2"}],outlier:!1},{data:["Crawford",{type:"line",values:[53.33333333,28.3197832]},53.33333333,28.3197832,{type:"styled",className:"positive-diff",value:"+25"}],outlier:!1},{data:["Centre",{type:"line",values:[46.74115456,21.88492764]},46.74115456,21.88492764,{type:"styled",className:"positive-diff",value:"+24.9"}],outlier:!1},{data:["Venango",{type:"line",values:[60.13986014,35.56187767]},60.13986014,35.56187767,{type:"styled",className:"positive-diff",value:"+24.6"}],outlier:!1},{data:["Clearfield",{type:"line",values:[59.30232558,35.64718163]},59.30232558,35.64718163,{type:"styled",className:"positive-diff",value:"+23.7"}],outlier:!1},{data:["Armstrong",{type:"line",values:[62.71186441,39.52662722]},62.71186441,39.52662722,{type:"styled",className:"positive-diff",value:"+23.2"}],outlier:!1},{data:["Northumberland",{type:"line",values:[56.81818182,33.91066545]},56.81818182,33.91066545,{type:"styled",className:"positive-diff",value:"+22.9"}],outlier:!1},{data:["Lawrence",{type:"line",values:[66.28477905,43.4806939]},66.28477905,43.4806939,{type:"styled",className:"positive-diff",value:"+22.8"}],outlier:!1},{data:["Mifflin",{type:"line",values:[70.11494253,47.48201439]},70.11494253,47.48201439,{type:"styled",className:"positive-diff",value:"+22.6"}],outlier:!1},{data:["Tioga",{type:"line",values:[57,34.50800915]},57,34.50800915,{type:"styled",className:"positive-diff",value:"+22.5"}],outlier:!1},{data:["Allegheny",{type:"line",values:[57.06645057,35.29897333]},57.06645057,35.29897333,{type:"styled",className:"positive-diff",value:"+21.8"}],outlier:!1},{data:["Westmoreland",{type:"line",values:[50.05045409,28.61736334]},50.05045409,28.61736334,{type:"styled",className:"positive-diff",value:"+21.4"}],outlier:!1},{data:["Greene",{type:"line",values:[58.97435897,37.86163522]},58.97435897,37.86163522,{type:"styled",className:"positive-diff",value:"+21.1"}],outlier:!1},{data:["Beaver",{type:"line",values:[64.33048433,43.92212726]},64.33048433,43.92212726,{type:"styled",className:"positive-diff",value:"+20.4"}],outlier:!1},{data:["McKean",{type:"line",values:[61.33333333,41.23134328]},61.33333333,41.23134328,{type:"styled",className:"positive-diff",value:"+20.1"}],outlier:!1},{data:["Washington",{type:"line",values:[55.77092511,35.82116788]},55.77092511,35.82116788,{type:"styled",className:"positive-diff",value:"+19.9"}],outlier:!1},{data:["Luzerne",{type:"line",values:[53.5892323,34.6550856]},53.5892323,34.6550856,{type:"styled",className:"positive-diff",value:"+18.9"}],outlier:!1},{data:["Lackawanna",{type:"line",values:[67.1345995,48.9720035]},67.1345995,48.9720035,{type:"styled",className:"positive-diff",value:"+18.2"}],outlier:!1},{data:["Snyder",{type:"line",values:[52.5,34.59183673]},52.5,34.59183673,{type:"styled",className:"positive-diff",value:"+17.9"}],outlier:!1},{data:["Bradford",{type:"line",values:[62.26415094,45.14840183]},62.26415094,45.14840183,{type:"styled",className:"positive-diff",value:"+17.1"}],outlier:!1},{data:["Cumberland",{type:"line",values:[51.61744023,35.0094162]},51.61744023,35.0094162,{type:"styled",className:"positive-diff",value:"+16.6"}],outlier:!1},{data:["Butler",{type:"line",values:[44.7761194,29.5154185]},44.7761194,29.5154185,{type:"styled",className:"positive-diff",value:"+15.3"}],outlier:!1},{data:["Delaware",{type:"line",values:[63.75237882,48.4952381]},63.75237882,48.4952381,{type:"styled",className:"positive-diff",value:"+15.3"}],outlier:!1},{data:["Bedford",{type:"line",values:[52.57731959,37.56419663]},52.57731959,37.56419663,{type:"styled",className:"positive-diff",value:"+15"}],outlier:!1},{data:["Union",{type:"line",values:[38.20224719,23.24159021]},38.20224719,23.24159021,{type:"styled",className:"positive-diff",value:"+15"}],outlier:!1},{data:["Dauphin",{type:"line",values:[51.21710526,36.4556962]},51.21710526,36.4556962,{type:"styled",className:"positive-diff",value:"+14.8"}],outlier:!1},{data:["Montgomery",{type:"line",values:[43.27198364,28.69733969]},43.27198364,28.69733969,{type:"styled",className:"positive-diff",value:"+14.6"}],outlier:!1},{data:["Adams",{type:"line",values:[43.56060606,29.03651562]},43.56060606,29.03651562,{type:"styled",className:"positive-diff",value:"+14.5"}],outlier:!1},{data:["Chester",{type:"line",values:[48.47354138,34.29690666]},48.47354138,34.29690666,{type:"styled",className:"positive-diff",value:"+14.2"}],outlier:!1},{data:["Franklin",{type:"line",values:[49.26553672,35.19494204]},49.26553672,35.19494204,{type:"styled",className:"positive-diff",value:"+14.1"}],outlier:!1},{data:["York",{type:"line",values:[54.11985019,41.11844787]},54.11985019,41.11844787,{type:"styled",className:"positive-diff",value:"+13"}],outlier:!1},{data:["Philadelphia",{type:"line",values:[56.02170568,43.3107617]},56.02170568,43.3107617,{type:"styled",className:"positive-diff",value:"+12.7"}],outlier:!1},{data:["Lancaster",{type:"line",values:[55.54532904,43.07425541]},55.54532904,43.07425541,{type:"styled",className:"positive-diff",value:"+12.5"}],outlier:!1},{data:["Perry",{type:"line",values:[40,27.68130746]},40,27.68130746,{type:"styled",className:"positive-diff",value:"+12.3"}],outlier:!1},{data:["Mercer",{type:"line",values:[45.40337711,33.35235378]},45.40337711,33.35235378,{type:"styled",className:"positive-diff",value:"+12.1"}],outlier:!1},{data:["Northampton",{type:"line",values:[55.7063541,43.86813852]},55.7063541,43.86813852,{type:"styled",className:"positive-diff",value:"+11.8"}],outlier:!1},{data:["Fayette",{type:"line",values:[54,42.30092389]},54,42.30092389,{type:"styled",className:"positive-diff",value:"+11.7"}],outlier:!1},{data:["Carbon",{type:"line",values:[43.7751004,32.34139961]},43.7751004,32.34139961,{type:"styled",className:"positive-diff",value:"+11.4"}],outlier:!1},{data:["Clinton",{type:"line",values:[47.14285714,35.98750976]},47.14285714,35.98750976,{type:"styled",className:"positive-diff",value:"+11.2"}],outlier:!1},{data:["Lebanon",{type:"line",values:[48.84547069,37.97733949]},48.84547069,37.97733949,{type:"styled",className:"positive-diff",value:"+10.9"}],outlier:!1},{data:["Montour",{type:"line",values:[46.15384615,35.34136546]},46.15384615,35.34136546,{type:"styled",className:"positive-diff",value:"+10.8"}],outlier:!0},{data:["Bucks",{type:"line",values:[41.06901218,30.62392673]},41.06901218,30.62392673,{type:"styled",className:"positive-diff",value:"+10.4"}],outlier:!1},{data:["Schuylkill",{type:"line",values:[46.5060241,37.27521501]},46.5060241,37.27521501,{type:"styled",className:"positive-diff",value:"+9.2"}],outlier:!1},{data:["Lehigh",{type:"line",values:[61.81634031,52.85376562]},61.81634031,52.85376562,{type:"styled",className:"positive-diff",value:"+9"}],outlier:!1},{data:["Berks",{type:"line",values:[58.42078961,50.24259317]},58.42078961,50.24259317,{type:"styled",className:"positive-diff",value:"+8.2"}],outlier:!1},{data:["Juniata",{type:"line",values:[43.75,36.67425968]},43.75,36.67425968,{type:"styled",className:"positive-diff",value:"+7.1"}],outlier:!0},{data:["Wyoming",{type:"line",values:[40,35.59650824]},40,35.59650824,{type:"styled",className:"positive-diff",value:"+4.4"}],outlier:!0},{data:["Pike",{type:"line",values:[37.41007194,34.02061856]},37.41007194,34.02061856,{type:"styled",className:"positive-diff",value:"+3.4"}],outlier:!1},{data:["Monroe",{type:"line",values:[35.13011152,32.41612358]},35.13011152,32.41612358,{type:"styled",className:"positive-diff",value:"+2.7"}],outlier:!1},{data:["Columbia",{type:"line",values:[40.7960199,38.46153846]},40.7960199,38.46153846,{type:"styled",className:"positive-diff",value:"+2.3"}],outlier:!1},{data:["Fulton",{type:"line",values:[31.57894737,29.27536232]},31.57894737,29.27536232,{type:"styled",className:"positive-diff",value:"+2.3"}],outlier:!1},{data:["Clarion",{type:"line",values:[40.625,40.83259522]},40.625,40.83259522,{type:"styled",className:"negative-diff",value:"-0.2"}],outlier:!1},{data:["Elk",{type:"line",values:[27.77777778,28.68117798]},27.77777778,28.68117798,{type:"styled",className:"negative-diff",value:"-0.9"}],outlier:!0},{data:["Indiana",{type:"line",values:[30.39215686,36.21169916]},30.39215686,36.21169916,{type:"styled",className:"negative-diff",value:"-5.8"}],outlier:!1}],37.9,54.7),new class extends Ii{constructor(t,e,n,r){super(`#${t} .map`,{rows:[{rowHeader:"",isColumnHeader:!0,dataKey:"name"},{rowHeader:"Cash Bail Rate",dataKey:"x",render:t=>`${t.toFixed(1)}%`},{rowHeader:"Avg. Bail Amount",dataKey:"y",render:t=>t.toLocaleString("en",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0})}]}),this.data=e;const a=[20,40,60,80,100];this.color=Ni().domain(a).range(["#CC2FFF","#B08CF0","#7AC7DF","#5DDAB5","#00ED89"]),this.spikeScale=mi([0,r],[0,100]);const i=t=>{this.highlightBar(t.srcElement),this.highlightMap(t.srcElement)},o=()=>this.resetHighlight();i.bind(this),o.bind(this),this.legend=new ki(t,a,[0,20,40,60,80,100],this.color,[{value:n,label:"Avg:"}],i,o,"Non-Posting Rate",85);const l=this.spikeShape.bind(this);this.spikeLegend=new Yi(t,"Average Bail Amount",["$20K","$40K","$60K"],l),this.spikeLegend.render(),this.render()}onMouseEnter(t){super.onMouseEnter(t),Ft(t.srcElement).style("stroke-width","2px"),this.highlightBar(t.srcElement)}onMouseOut(t){super.onMouseOut(),Ft(t.srcElement).style("stroke-width","0.5px"),this.resetHighlight()}showTooltip(t){const e=t.getAttribute(Ui),n=Number(t.getAttribute("data-rate")),r=t.getAttribute("data-bail-amount");super.showTooltip(t,[{name:e,x:n,y:r}])}highlightBar(t){const e=Number(t.getAttribute(Li));this.legend.highlightBars([e])}highlightMap(t){const e=t.getAttribute(Li);this.svg.selectAll("path").style("opacity","0.2"),this.svg.selectAll(`path.spike[data-bucket="${e}"`).style("opacity","1")}resetHighlight(){this.legend.resetHighlight(),this.svg.selectAll("path").style("opacity","1")}spikeShape(t){return`M-2.5,0L0,${-this.spikeScale(Number(t.replace(/[^\d.-]/g,"")))}L2.5,0`}renderPA(e,n){this.data.forEach((t=>{const r=t.data[0],a=t.data[1],i=t.data[2],o=e.find((t=>t.properties.NAME===r));o.properties.rate=i,o.properties.amount=a,o.properties.color=this.color(i),o.properties.bucket=this.color.invertExtent(o.properties.color)[1],o.properties.position=n.centroid(o)}));super.renderPA(e,n).style("fill","#1a1a1a").attr("data-rate",(t=>t.properties.rate)).attr("data-bail-amount",(t=>t.properties.amount)).attr(Li,(t=>t.properties.bucket)),this.svg.append("g").selectAll("path").data(e.sort(((e,n)=>t(e.properties.position[1],n.properties.position[1])||t(e.properties.position[0],n.properties.position[0])))).join("path").attr("transform",(t=>`translate(${t.properties.position})`)).attr("d",(t=>this.spikeShape(t.properties.amount))).attr("fill",(t=>t.properties.color)).attr("stroke",(t=>t.properties.color)).attr("class","spike").attr("data-rate",(t=>t.properties.rate)).attr("data-bail-amount",(t=>t.properties.amount)).on("mouseenter focus",this.onMouseEnter.bind(this)).on("mouseout",this.onMouseOut.bind(this)).attr(Li,(t=>t.properties.bucket)).attr(Ui,(t=>t.properties.NAME)),this.legend.render()}}("bail-posting",[{data:["Adams","$27.0K",43.62244898,{type:"bar",values:[43.62244898]}],outlier:!1},{data:["Allegheny","$18.6K",61.27998861,{type:"bar",values:[61.27998861]}],outlier:!1},{data:["Armstrong","$13.9K",56.05263158,{type:"bar",values:[56.05263158]}],outlier:!1},{data:["Beaver","$17.6K",67.60883691,{type:"bar",values:[67.60883691]}],outlier:!1},{data:["Bedford","$50.1K",72.3183391,{type:"bar",values:[72.3183391]}],outlier:!1},{data:["Berks","$28.3K",56.45679409,{type:"bar",values:[56.45679409]}],outlier:!1},{data:["Blair","$33.1K",68.23253083,{type:"bar",values:[68.23253083]}],outlier:!1},{data:["Bradford","$32.7K",89.21800948,{type:"bar",values:[89.21800948]}],outlier:!1},{data:["Bucks","$62.6K",48.80620772,{type:"bar",values:[48.80620772]}],outlier:!1},{data:["Butler","$17.6K",66.14420063,{type:"bar",values:[66.14420063]}],outlier:!1},{data:["Cambria","$37.0K",41.87380497,{type:"bar",values:[41.87380497]}],outlier:!1},{data:["Cameron","$26.8K",51.61290323,{type:"bar",values:[51.61290323]}],outlier:!1},{data:["Carbon","$26.8K",49.51370469,{type:"bar",values:[49.51370469]}],outlier:!1},{data:["Centre","$44.3K",65.17571885,{type:"bar",values:[65.17571885]}],outlier:!1},{data:["Chester","$26.4K",51.38476756,{type:"bar",values:[51.38476756]}],outlier:!1},{data:["Clarion","$20.0K",72.08835341,{type:"bar",values:[72.08835341]}],outlier:!1},{data:["Clearfield","$24.3K",82.5203252,{type:"bar",values:[82.5203252]}],outlier:!1},{data:["Clinton","$21.0K",74.19962335,{type:"bar",values:[74.19962335]}],outlier:!1},{data:["Columbia","$35.8K",27.68777614,{type:"bar",values:[27.68777614]}],outlier:!1},{data:["Crawford","$22.6K",55.26315789,{type:"bar",values:[55.26315789]}],outlier:!1},{data:["Cumberland","$25.0K",57.75502465,{type:"bar",values:[57.75502465]}],outlier:!1},{data:["Dauphin","$36.6K",67.51909665,{type:"bar",values:[67.51909665]}],outlier:!1},{data:["Delaware","$38.5K",61.44408689,{type:"bar",values:[61.44408689]}],outlier:!1},{data:["Elk","$21.3K",79.74683544,{type:"bar",values:[79.74683544]}],outlier:!1},{data:["Erie","$27.8K",60.4815864,{type:"bar",values:[60.4815864]}],outlier:!1},{data:["Fayette","$19.5K",39.92776886,{type:"bar",values:[39.92776886]}],outlier:!1},{data:["Forest","$22.7K",80.70175439,{type:"bar",values:[80.70175439]}],outlier:!1},{data:["Franklin","$53.5K",76.32904309,{type:"bar",values:[76.32904309]}],outlier:!1},{data:["Fulton","$54.7K",78.51239669,{type:"bar",values:[78.51239669]}],outlier:!1},{data:["Greene","$15.6K",55.89123867,{type:"bar",values:[55.89123867]}],outlier:!1},{data:["Huntingdon","$18.3K",76.89594356,{type:"bar",values:[76.89594356]}],outlier:!1},{data:["Indiana","$16.6K",42.81345566,{type:"bar",values:[42.81345566]}],outlier:!1},{data:["Jefferson","$45.0K",85.16129032,{type:"bar",values:[85.16129032]}],outlier:!1},{data:["Juniata","$22.4K",73.98843931,{type:"bar",values:[73.98843931]}],outlier:!1},{data:["Lackawanna","$31.1K",72.46600742,{type:"bar",values:[72.46600742]}],outlier:!1},{data:["Lancaster","$52.6K",64.47848286,{type:"bar",values:[64.47848286]}],outlier:!1},{data:["Lawrence","$19.2K",43.81742739,{type:"bar",values:[43.81742739]}],outlier:!1},{data:["Lebanon","$24.5K",43.23432343,{type:"bar",values:[43.23432343]}],outlier:!1},{data:["Lehigh","$20.1K",57.91968767,{type:"bar",values:[57.91968767]}],outlier:!1},{data:["Luzerne","$37.0K",66.80926019,{type:"bar",values:[66.80926019]}],outlier:!1},{data:["Lycoming","$52.7K",71.89292543,{type:"bar",values:[71.89292543]}],outlier:!1},{data:["McKean","$23.7K",70.13752456,{type:"bar",values:[70.13752456]}],outlier:!1},{data:["Mercer","$25.0K",49.10820452,{type:"bar",values:[49.10820452]}],outlier:!1},{data:["Mifflin","$39.8K",82.62068966,{type:"bar",values:[82.62068966]}],outlier:!1},{data:["Monroe","$27.4K",38.39793282,{type:"bar",values:[38.39793282]}],outlier:!1},{data:["Montgomery","$25.3K",64.50531837,{type:"bar",values:[64.50531837]}],outlier:!1},{data:["Montour","$28.6K",65.34653465,{type:"bar",values:[65.34653465]}],outlier:!1},{data:["Northampton","$27.5K",54.74903475,{type:"bar",values:[54.74903475]}],outlier:!1},{data:["Northumberland","$41.8K",57.73195876,{type:"bar",values:[57.73195876]}],outlier:!1},{data:["Perry","$25.6K",76.99680511,{type:"bar",values:[76.99680511]}],outlier:!1},{data:["Philadelphia","$54.0K",50.7113914,{type:"bar",values:[50.7113914]}],outlier:!1},{data:["Pike","$22.2K",63.88888889,{type:"bar",values:[63.88888889]}],outlier:!1},{data:["Potter","$19.4K",67.83216783,{type:"bar",values:[67.83216783]}],outlier:!1},{data:["Schuylkill","$20.6K",59.0780809,{type:"bar",values:[59.0780809]}],outlier:!1},{data:["Snyder","$28.0K",45.69190601,{type:"bar",values:[45.69190601]}],outlier:!1},{data:["Somerset","$37.9K",55.08982036,{type:"bar",values:[55.08982036]}],outlier:!1},{data:["Sullivan","$16.9K",69.23076923,{type:"bar",values:[69.23076923]}],outlier:!1},{data:["Susquehanna","$27.6K",75.07788162,{type:"bar",values:[75.07788162]}],outlier:!1},{data:["Tioga","$20.6K",60.72234763,{type:"bar",values:[60.72234763]}],outlier:!1},{data:["Union","$27.5K",74.61139896,{type:"bar",values:[74.61139896]}],outlier:!1},{data:["Venango","$37.5K",72.88135593,{type:"bar",values:[72.88135593]}],outlier:!1},{data:["Warren","$25.4K",75.87209302,{type:"bar",values:[75.87209302]}],outlier:!1},{data:["Washington","$25.1K",63.82098533,{type:"bar",values:[63.82098533]}],outlier:!1},{data:["Wayne","$34.1K",46.6442953,{type:"bar",values:[46.6442953]}],outlier:!1},{data:["Westmoreland","$21.0K",71.47154675,{type:"bar",values:[71.47154675]}],outlier:!1},{data:["Wyoming","$25.1K",67.53246753,{type:"bar",values:[67.53246753]}],outlier:!1},{data:["York","$20.8K",58.36246303,{type:"bar",values:[58.36246303]}],outlier:!1}],58.5,70)}();
//# sourceMappingURL=chloropleth.258b7b0f.js.map
