parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"cGLu":[function(require,module,exports) {
"use strict";function e(e){return a(e)||r(e)||n(e)||t()}function t(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function r(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function a(e){if(Array.isArray(e))return o(e)}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=c(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n):a.value}})(e,t,n||e)}function c(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=v(e)););return e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=m();return function(){var n,r=v(e);if(t){var a=v(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.RankedTable=void 0;var b=function(){function e(t){p(this,e),this.className=t}return g(e,[{key:"render",value:function(){this.element=document.createElement("td"),this.setElementClass(this.className)}},{key:"getClassName",value:function(){return this.className}},{key:"setElementClass",value:function(e){this.element.className=e}}]),e}(),C=function(e){l(n,b);var t=h(n);function n(e,r){var a;return p(this,n),(a=t.call(this,r)).content=e,a.render(),a}return g(n,[{key:"render",value:function(){s(v(n.prototype),"render",this).call(this),this.element.appendChild(document.createTextNode(this.content))}}]),n}(),E=function(e){l(n,b);var t=h(n);function n(e,r){var a;return p(this,n),(a=t.call(this,r)).content=e.toLocaleString(),a.render(),a}return g(n,[{key:"render",value:function(){s(v(n.prototype),"render",this).call(this),this.element.appendChild(document.createTextNode(this.content))}}]),n}(),N=function(e){l(n,b);var t=h(n);function n(e,r,a){var o;return p(this,n),(o=t.call(this,r)).content=e.values[0],o.average=a.averages[0].value,o.range=a,o.render(),o}return g(n,[{key:"render",value:function(){s(v(n.prototype),"render",this).call(this);var e=document.createElement("div");e.className="viz-bar",e.style.width="".concat(this.content/this.range.end*100,"%");var t=document.createElement("div"),r=this.content-this.average;t.textContent="".concat(r>0?"+":"").concat(r.toFixed(1)),t.className="bar-label",e.appendChild(t),this.element.appendChild(e);var a=document.createElement("div");a.className="bar-average-line green",a.style.left="".concat(this.average/this.range.end*100,"%"),this.element.appendChild(a)}}]),n}(),k=function(e){l(n,b);var t=h(n);function n(e,r,a){var o;return p(this,n),(o=t.call(this,r)).content=e.values,o.averages=a.averages,o.range=a,o.vizColors=["green","purple"],o.render(),o}return g(n,[{key:"render",value:function(){var e=this;s(v(n.prototype),"render",this).call(this);var t=document.createElement("div");t.className="viz-number-line",this.element.appendChild(t),this.content.forEach(function(t,n){var r=document.createElement("div");r.className="viz-number-line-point ".concat(e.vizColors[n]),r.style.left="".concat(t/e.range.end*100,"%"),e.element.appendChild(r)}),this.averages.forEach(function(t,n){var r=document.createElement("div");r.className="bar-average-line ".concat(e.vizColors[n]),r.style.left="".concat(t.value/e.range.end*100,"%"),e.element.appendChild(r)})}}]),n}(),w=function(e){l(n,b);var t=h(n);function n(e,r,a,o,i,s,c){var l;return p(this,n),(l=t.call(this,r)).content=e,l.sortCol=a,l.sortDir=o,l.initSort=i,l.table=s,l.id=c,l.render(),l.sortCol&&l.element.addEventListener("click",function(){var e=l.getClassName();l.table.setSortColumn(l.id),l.table.setSortDirection(l.sortDir),l.table.sort(!1),l.setElementClass(e,!0),l.sortDir*=-1}),l.initSort&&(l.sortDir*=-1),l}return g(n,[{key:"render",value:function(){var e=document.createElement("th");if(e.className=this.className,e.appendChild(document.createTextNode(this.content)),this.element=e,this.sortCol){var t=this.getClassName();this.setElementClass(t,this.initSort)}}},{key:"getClassName",value:function(){var e=this.sortDir>0?"sort-asc":this.sortDir<0?"sort-desc":"";return"".concat(this.className," ").concat(e)}},{key:"setElementClass",value:function(e,t){var r=t?"sorted":"";s(v(n.prototype),"setElementClass",this).call(this,"".concat(e," ").concat(r))}}]),n}(),S=function(e){l(n,w);var t=h(n);function n(e,r,a,o,i,s,c){return p(this,n),t.call(this,e,r,a,o,i,s,c)}return g(n,[{key:"render",value:function(){var e=this,t=["green","purple"],n=this.content.start,r=this.content.end,a=this.content.averages,o=document.createElement("th");o.className=this.className;var i=this.createTickElement(n,"start-num"),s=this.createTickElement(r,"end-num"),c=a.map(function(n,r){var a="".concat(n.name,":<br>").concat(n.value,"%");return e.createTickElement(a,"average",t[r])}),l=document.createElement("div");l.className="average-wrapper",c.forEach(function(e,t){e.style.left="calc(".concat(a[t].value/r*100,"%)"),l.appendChild(e)}),[i,s,l].forEach(function(e){o.appendChild(e)}),this.element=o}},{key:"createTickElement",value:function(e,t,n){var r=document.createElement("div");r.className=t;var a=document.createElement("div");a.innerHTML=e,"average"===t&&(a.className="average-text"),r.appendChild(a),"start-num"===t&&1===e.toString().length&&(r.style.paddingLeft="".concat(.25,"em"));var o=document.createElement("div");return o.className="".concat("average"===t?"average-line":"viz-line"),n&&(o.className+=" ".concat(n)),r.appendChild(o),r}}]),n}(),O=function(){function e(t){p(this,e),this.cells=t,this.render()}return g(e,[{key:"render",value:function(){var e=document.createElement("tr");this.cells.forEach(function(t){e.appendChild(t.element)}),this.element=e}},{key:"clearedSortedCells",value:function(){this.cells.forEach(function(e){var t=e.getClassName();e.setElementClass(t,!1)})}}]),e}(),T=function(){function t(e,n){p(this,t),this.cells=e,this.render(n)}return g(t,[{key:"render",value:function(t,n){var r=document.createElement("tr");[new C(t,"rank-cell")].concat(e(this.cells)).forEach(function(e,t){e.setElementClass(t===n?"".concat(e.className," sorted"):e.className),r.appendChild(e.element)}),this.element=r}}]),t}(),R=function(){function t(e,n,r,a){p(this,t),this.classNames=n.map(function(e){return e.class}),this.headers=n.map(function(e){return e.header}),this.data=e,this.validate(this.data,this.classNames,this.headers),this.element=a,this.sortCols=n.map(function(e){return e.sortable}),this.sortCol=r+1,this.sortDir=-1,this.sort(!0),this.header=this.getHeaderRow(),this.render()}return g(t,[{key:"validate",value:function(e,t,n){if(t.length!==n.length)throw new Error("Number of class names does not match number of headers");if(e.some(function(e){return e.length!=n.length}))throw new Error("".concat(n.length," columns of data required"))}},{key:"getHeaderRow",value:function(){var t=this,n=this.headers.map(function(e,n){return new("string"==typeof e?w:S)(e,t.classNames[n],t.sortCols[n],t.sortCols[n]?-1:0,n+1===t.sortCol,t,n+1)}),r=[new w("Rank","rank-cell",!1,0,!1,this,0)].concat(e(n));return new O(r)}},{key:"getRows",value:function(e){var t=this;return e.map(function(e,n){var r=e.map(function(e,n){var r=C;return"number"==typeof e&&(r=E),"object"==i(e)&&(r="bar"===e.type?N:k),new r(e,t.classNames[n],t.headers[n])});return new T(r,n+1)})}},{key:"setSortColumn",value:function(e){this.sortCol=e}},{key:"setSortDirection",value:function(e){this.sortDir=e}},{key:"sort",value:function(e){var t=this;e||this.header.clearedSortedCells();var n=this.sortCol-1;this.data.sort(function(e,r){return e[n]<r[n]?-1*t.sortDir:e[n]>r[n]?t.sortDir:0}),this.rows=this.getRows(this.data),this.updateTable(!1)}},{key:"updateTable",value:function(e){var t=this,n=this.element.getElementsByTagName("tbody")[0];n.textContent="",this.rows.forEach(function(r,a){var o=e?t.rows.length-a:a+1;r.render(o,t.sortCol),n.appendChild(r.element)})}},{key:"render",value:function(){this.element.getElementsByTagName("thead")[0].appendChild(this.header.element);var e=this.element.getElementsByTagName("tbody")[0];this.rows.forEach(function(t){e.appendChild(t.element)})}}]),t}();exports.RankedTable=R;
},{}],"mahc":[function(require,module,exports) {
"use strict";var e=require("./classes/Table.js"),a=function(){var a=document.getElementById("bail-rate-table");new e.RankedTable([["Delaware",{type:"bar",values:[55.7]},55.7,9514,17863],["Lehigh",{type:"bar",values:[54.9]},54.9,6526,13069],["Lackawanna",{type:"bar",values:[52.6]},52.6,3236,6148],["Berks",{type:"bar",values:[50.9]},50.9,6266,12230],["Philadelphia",{type:"bar",values:[50.1]},50.1,32823,65487],["Beaver",{type:"bar",values:[49]},49,6226,12230]],[{class:"county-name-cell",header:"County",sortable:!1},{class:"viz-cell",header:{start:0,end:60,averages:[{name:"State Average",value:42.5}]},sortable:!1},{class:"bail-rate-cell number-cell",header:"Cash Bail Rate (%)",sortable:!0},{class:"bail-cases-cell number-cell",header:"Cash Bail Cases",sortable:!0},{class:"total-cases-cell number-cell",header:"Total Cases",sortable:!0}],2,a)},l=function(){var a=document.getElementById("bail-race-table");new e.RankedTable([["Somerset",{type:"line",values:[69.6,23.2]},69.6,23.2,"+46.4"],["Centre",{type:"line",values:[46.7,21.9]},46.7,21.9,"+25.7"],["Lycoming",{type:"line",values:[55,28.1]},55,28.1,"+26.9"],["Jefferson",{type:"line",values:[73,38.4]},73,38.4,"+34.6"],["Crawford",{type:"line",values:[53.3,28.3]},53.3,28.3,"+25"],["Blair",{type:"line",values:[58.7,31.8]},58.7,31.8,"+26.9"]],[{class:"county-name-cell",header:"County",sortable:!1},{class:"viz-cell",header:{start:0,end:100,averages:[{name:"Black",value:54.7},{name:"White",value:37.9}]},sortable:!1},{class:"bail-black-cell number-cell",header:"% Cash Bail Black",sortable:!0},{class:"bail-white-cell number-cell",header:"% Cash Bail White",sortable:!0},{class:"diff-cell number-cell",header:"Diff",sortable:!0}],4,a)};a(),l();
},{"./classes/Table.js":"cGLu"}]},{},["mahc"], null)
//# sourceMappingURL=/aclu-cash-bail/js.9e41c403.js.map